if(!Object['hasOwnProperty']('values')){Object['values']=function(c){return Object['keys'](c)['map'](function(d){return c[d];});};}if(!String['prototype']['startsWith']){String['prototype']['startsWith']=function(e,f){f=f||0x0;return this['indexOf'](e,f)===f;};}TDV['EventDispatcher']=function(){this['_handlers']={};};TDV['EventDispatcher']['prototype']['bind']=function(g,h){if(!(g in this['_handlers']))this['_handlers'][g]=[];this['_handlers'][g]['push'](h);};TDV['EventDispatcher']['prototype']['unbind']=function(i,j){if(i in this['_handlers']){var k=this['_handlers'][i]['indexOf'](j);if(k!=-0x1)this['_handlers'][i]['splice'](k,0x1);}};TDV['EventDispatcher']['prototype']['createNewEvent']=function(l){if(typeof Event==='function')return new Event(l);var m=document['createEvent']('Event');m['initEvent'](l,!![],!![]);return m;};TDV['EventDispatcher']['prototype']['dispatchEvent']=function(n){if(n['type']in this['_handlers']){var o=this['_handlers'][n['type']];for(var p=0x0;p<o['length'];++p){o[p]['call'](window,n);if(n['defaultPrevented'])break;}}};TDV['Tour']=function(q,r){TDV['EventDispatcher']['call'](this);this['player']=undefined;this['_settings']=q;this['_devicesUrl']=r;this['_playersPlayingTmp']=[];this['_isInitialized']=![];this['_isPaused']=![];this['_isRemoteSession']=![];this['_orientation']=undefined;this['_lockedOrientation']=undefined;this['_device']=undefined;Object['defineProperty'](this,'isInitialized',{'get':function(){return this['_isInitialized'];}});Object['defineProperty'](this,'isPaused',{'get':function(){return this['_isPaused'];}});this['_setupRemote']();};TDV['Tour']['DEVICE_GENERAL']='general';TDV['Tour']['DEVICE_MOBILE']='mobile';TDV['Tour']['DEVICE_IPAD']='ipad';TDV['Tour']['DEVICE_VR']='vr';TDV['Tour']['EVENT_TOUR_INITIALIZED']='tourInitialized';TDV['Tour']['EVENT_TOUR_LOADED']='tourLoaded';TDV['Tour']['EVENT_TOUR_ENDED']='tourEnded';TDV['Tour']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['prototype']['dispose']=function(){if(!this['player'])return;if(this['_onHashChange']){window['removeEventListener']('hashchange',this['_onHashChange']);this['_onHashChange']=undefined;}if(this['_onKeyUp']){document['removeEventListener']('keyup',this['_onKeyUp']);this['_onKeyUp']=undefined;}if(this['_onBeforeUnload']){window['removeEventListener']('beforeunload',this['_onBeforeUnload']);this['_onBeforeUnload']=undefined;}var s=this['_getRootPlayer']();if(s!==undefined){s['stopTextToSpeech']();s['stopGlobalAudios']();}this['player']['delete']();this['player']=undefined;this['_isInitialized']=![];window['currentGlobalAudios']=undefined;window['pauseGlobalAudiosState']=undefined;window['currentPanoramasWithCameraChanged']=undefined;window['overlaysDispatched']=undefined;};TDV['Tour']['prototype']['load']=function(){if(this['player'])return;var t=function(w){if(w['name']=='begin'){var A=w['data']['source']['get']('camera');if(A&&A['get']('initialSequence')&&A['get']('initialSequence')['get']('movements')['length']>0x0)return;}if(w['sourceClassName']=='MediaAudio'||w['sourceClassName']=='Model3DCameraSequence'||this['_isInitialized'])return;this['_isInitialized']=!![];u['unbind']('preloadMediaShow',t,this,!![]);u['unbindOnObjectsOf']('PlayListItem','begin',t,this,!![]);u['unbind']('stateChange',t,this,!![]);if(this['_isPaused'])this['pause']();window['parent']['postMessage'](TDV['Tour']['EVENT_TOUR_LOADED'],'*');this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_LOADED']));};this['_setup']();this['_settings']['set'](TDV['PlayerSettings']['SCRIPT_URL'],this['_currentScriptUrl']);var u=this['player']=TDV['PlayerAPI']['create'](this['_settings']);u['bindOnObject']('rootPlayer','start',v,this,!![]);window['addEventListener']('message',function(B){var C=B['data'];if(C=='pauseTour')C='pause';else if(C=='resumeTour')C='resume';else return;this[C]['apply'](this);}['bind'](this));function v(D){u['unbindOnObject']('rootPlayer','start',v,this,!![]);var E=D['data']['source'];E['get']('data')['tour']=this;var F=window['navigator']['language']||window['navigator']['userLanguage']||'en';var G=E['get']('data')['locales']||{};var H=E['get']('data')['defaultLocale']||F;var I=this['locManager']=new TDV['Tour']['LocaleManager'](E,G,H,this['_settings']['get'](TDV['PlayerSettings']['QUERY_STRING_PARAMETERS']));E['get']('data')['localeManager']=I;var J=function(){var U=E['get']('data');if(!('updateText'in U)){U['updateText']=function(Y){var Z=Y[0x0]['split']('.');if(Z['length']==0x2){var a0=I['trans']['apply'](I,Y);var a1=Y[0x1]||E;if(typeof a1=='string'){var a2=a1['split']('.');a1=E[a2['shift']()];for(var a3=0x0;a3<a2['length']-0x1;++a3){if(a1!=undefined)a1='get'in a1?a1['get'](a2[a3]):a1[a2[a3]];}if(a1!=undefined){var a4=a2[a2['length']-0x1];if(Array['isArray'](a1)){for(var a5=0x0;a5<a1['length'];++a5){this['setValue'](a1[a5],a4,a0);}}else this['setValue'](a1,a4,a0);}}else{a1=a1[Z[0x0]];this['setValue'](a1,Z[0x1],a0);}}}['bind'](E);}var V=U['translateObjs'];var W=U['updateText'];var X=function(){for(var a6 in V){W(V[a6]);}};X();X();};this['locManager']['bind'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED'],J['bind'](this));var K=this['_getParams'](location['search']['substr'](0x1));K=E['mixObject'](K,this['_getParams'](location['hash']['substr'](0x1)));var L=K['language'];if(!L||!this['locManager']['hasLocale'](K['language'])){if(E['get']('data')['forceDefaultLocale'])L=H;else L=F;}this['setLocale'](L);var M=E['getByClassName']('HotspotPanoramaOverlay');for(var O=0x0,P=M['length'];O<P;++O){var Q=M[O];var R=Q['get']('data');if(!R)Q['set']('data',R={});R['defaultEnabledValue']=Q['get']('enabled');}this['_setMediaFromURL'](K,0x0);this['_updateParams'](K,![]);if(this['isMobile']()&&typeof this['_devicesUrl'][this['_device']]=='object'){var S=function(){if(!E['isCardboardViewMode']()&&this['_getOrientation']()!=this['_orientation']){this['reload'](!![]);return!![];}return![];};if(S['call'](this))return;var T=E['getByClassName']('PanoramaPlayer');for(var O=0x0;O<T['length'];++O){T[O]['bind']('viewModeChange',S,this);}E['bind']('orientationChange',S,this);}this['_onHashChange']=function(){var a7=this['_getParams'](location['hash']['substr'](0x1));this['_setMediaFromURL'](a7);this['_updateParams'](a7,!![]);}['bind'](this);this['_onKeyUp']=function(a8){switch(a8['key']['toLowerCase']()){case'u':this['updateDeepLink']();E['copyToClipboard'](location['href']);break;case'm':var a9=E['getByClassName']('MeasureModel3DObject');var aa=E['getActiveMediaWithViewer'](E['getMainViewer']());if(a9['length']>0x0&&aa['get']('class')=='Model3D'){E['startMeasurement'](null,a9[0x0]);}break;}}['bind'](this);this['_onBeforeUnload']=function(ab){E['stopTextToSpeech']();};window['addEventListener']('hashchange',this['_onHashChange']);window['addEventListener']('beforeunload',this['_onBeforeUnload']);document['addEventListener']('keyup',this['_onKeyUp']);E['bind']('tourEnded',function(){this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_ENDED']));},this,!![]);E['bind']('mute_changed',function(){if(this['get']('mute'))this['stopTextToSpeech']();},E,!![]);u['bind']('preloadMediaShow',t,this,!![]);u['bind']('stateChange',t,this,!![]);u['bindOnObjectsOf']('PlayListItem','begin',t,this,!![]);this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_INITIALIZED']));}};TDV['Tour']['prototype']['pause']=function(){this['_isPaused']=!![];if(!this['_isInitialized'])return;var ac=function(al){var am=al['source'];if(!this['_isPaused'])am['unbind']('stateChange',ac,this);else if(am['get']('state')=='playing'){am['pause']();}};var ad=this['player']['getByClassName']('PlayList');for(var ae=0x0,af=ad['length'];ae<af;ae++){var ag=ad[ae];var ah=ag['get']('selectedIndex');if(ah!=-0x1){var ai=ag['get']('items')[ah];var aj=ai['get']('player');if(aj&&aj['pause']){if(aj['get']('state')!='playing')aj['bind']('stateChange',ac,this);else aj['pause']();this['_playersPlayingTmp']['push'](aj);}}}var ak=this['_getRootPlayer']();ak['pauseGlobalAudios']();ak['quizPauseTimer']();};TDV['Tour']['prototype']['resume']=function(){this['_isPaused']=![];if(!this['_isInitialized'])return;while(this['_playersPlayingTmp']['length']){var an=this['_playersPlayingTmp']['pop']();an['play']();}var ao=this['_getRootPlayer']();ao['resumeGlobalAudios']();ao['quizResumeTimer']();};TDV['Tour']['prototype']['reload']=function(ap){this['_orientation']=this['_getOrientation']();if(ap)this['updateDeepLink']();this['dispose']();this['load']();};TDV['Tour']['prototype']['setMediaByIndex']=function(aq){var ar=this['_getRootPlayer']();if(ar!==undefined){return ar['setMainMediaByIndex'](aq);}};TDV['Tour']['prototype']['setMediaByName']=function(as){var at=this['_getRootPlayer']();if(at!==undefined){return at['setMainMediaByName'](as);}};TDV['Tour']['prototype']['triggerOverlayByName']=function(au,av,aw){var ax=this['_getRootPlayer']();if(!aw)aw='click';if(ax!==undefined&&aw){var ay=ax['getPanoramaOverlayByName'](au,av);if(ay){ax['triggerOverlay'](ay,aw);}}};TDV['Tour']['prototype']['focusOverlayByName']=function(az,aA){var aB=this['_getRootPlayer']();if(aB!==undefined){var aC=aB['getPanoramaOverlayByName'](az['get']('media'),aA);if(aC){var aD=aC['get']('class');var aE=aD=='VideoPanoramaOverlay'||aD=='QuadVideoPanoramaOverlay'?aC:aC['get']('items')[0x0];var aF,aG;aD=aE['get']('class');if(aD=='QuadVideoPanoramaOverlay'||aD=='QuadHotspotPanoramaOverlayImage'){var aH=aE['get']('vertices');var aI=0x0,aJ=aH['length'];aF=0x0;aG=0x0;while(aI<aJ){var aK=aH[aI++];var aL=aK['get']('yaw');if(aL<0x0)aL+=0x168;aF+=aL;aG+=aK['get']('pitch');}aF/=0x4;aG/=0x4;if(aF>0xb4)aF-=0x168;}else{aF=aE['get']('yaw');aG=aE['get']('pitch');}var aM=aB['getPlayListWithItem'](az);if(aM){var aN=function(){aB['setPanoramaCameraWithSpot'](aM,az,aF,aG);};if(!this['_isInitialized']){var aO=function(){az['unbind']('begin',aO,this);aN();};az['bind']('begin',aO,this);}else{aN();}}}}};TDV['Tour']['prototype']['setComponentsVisibilityByTags']=function(aP,aQ,aR){var aS=this['_getRootPlayer']();if(aS!==undefined){var aT=aS['getComponentsByTags'](aP,aR);for(var aU=0x0,aV=aT['length'];aU<aV;++aU){aT[aU]['set']('visible',aQ);}}};TDV['Tour']['prototype']['setOverlaysVisibilityByTags']=function(aW,aX,aY){var aZ=this['_getRootPlayer']();if(aZ!==undefined){var b0=aZ['getOverlaysByTags'](aW,aY);aZ['setOverlaysVisibility'](b0,aX);}};TDV['Tour']['prototype']['setOverlaysVisibilityByName']=function(b1,b2){var b3=this['_getRootPlayer']();if(b3!==undefined){var b4=b3['getActiveMediaWithViewer'](b3['getMainViewer']());var b5=[];for(var b6=0x0,b7=b1['length'];b6<b7;++b6){var b8=b3['getPanoramaOverlayByName'](b4,b1[b6]);if(b8)b5['push'](b8);}b3['setOverlaysVisibility'](b5,b2);}};TDV['Tour']['prototype']['setObjectsVisibilityByID']=function(b9,ba){var bb=this['_getRootPlayer']();if(bb!==undefined){var bc=bb['getActiveMediaWithViewer'](bb['getMainViewer']());if(bc['get']('class')=='Model3D'){bb['setObjectsVisibilityByID'](bc,b9,ba);}}};TDV['Tour']['prototype']['setModel3DVariant']=function(bd){var be=this['_getRootPlayer']();if(be!==undefined){var bf=be['getActiveMediaWithViewer'](be['getMainViewer']());if(bf['get']('class')=='Model3D'){bf['set']('variant',bd);}}};TDV['Tour']['prototype']['updateDeepLink']=function(){var bg=this['_getRootPlayer']();if(bg!==undefined){bg['updateDeepLink']({'includeCurrentView':!![],'includeCurrentVisibleHotspots':!![],'includeCurrentMeasureModel3DObjects':!![],'setHash':!![]});}};TDV['Tour']['prototype']['setLocale']=function(bh){var bi=this['_getRootPlayer']();if(bi!==undefined&&this['locManager']!==undefined){this['locManager']['setLocale'](bh);}};TDV['Tour']['prototype']['getLocale']=function(){var bj=this['_getRootPlayer']();return bj!==undefined&&this['locManager']!==undefined?this['locManager']['currentLocaleID']:undefined;};TDV['Tour']['prototype']['isMobile']=function(){return TDV['PlayerAPI']['mobile'];};TDV['Tour']['prototype']['isIPhone']=function(){return TDV['PlayerAPI']['device']==TDV['PlayerAPI']['DEVICE_IPHONE'];};TDV['Tour']['prototype']['isIPad']=function(){return TDV['PlayerAPI']['device']==TDV['PlayerAPI']['DEVICE_IPAD'];};TDV['Tour']['prototype']['isIOS']=function(){return this['isIPad']()||this['isIPhone']();};TDV['Tour']['prototype']['isMobileApp']=function(){return navigator['userAgent']['indexOf']('App/TDV')!=-0x1;};TDV['Tour']['prototype']['getNotchValue']=function(){var bk=document['documentElement'];bk['style']['setProperty']('--notch-top','env(safe-area-inset-top)');bk['style']['setProperty']('--notch-right','env(safe-area-inset-right)');bk['style']['setProperty']('--notch-bottom','env(safe-area-inset-bottom)');bk['style']['setProperty']('--notch-left','env(safe-area-inset-left)');var bl=window['getComputedStyle'](bk);return parseInt(bl['getPropertyValue']('--notch-top')||'0',0xa)||parseInt(bl['getPropertyValue']('--notch-right')||'0',0xa)||parseInt(bl['getPropertyValue']('--notch-bottom')||'0',0xa)||parseInt(bl['getPropertyValue']('--notch-left')||'0',0xa);};TDV['Tour']['prototype']['hasNotch']=function(){return this['getNotchValue']()>0x0;};TDV['Tour']['prototype']['_getOrientation']=function(){var bm=this['_getRootPlayer']();if(bm){return bm['get']('orientation');}else if(this['_lockedOrientation']){return this['_lockedOrientation'];}else{return TDV['PlayerAPI']['getOrientation']();}};TDV['Tour']['prototype']['_getParams']=function(bn){var bo={};bn['split']('&')['forEach'](function(bp){var bq=bp['split']('=')[0x0],br=decodeURIComponent(bp['split']('=')[0x1]);bo[bq['toLowerCase']()]=br;});return bo;};TDV['Tour']['prototype']['_getRootPlayer']=function(){return this['player']!==undefined?this['player']['getById']('rootPlayer'):undefined;};TDV['Tour']['prototype']['_setup']=function(){if(!this['_orientation'])this['_orientation']=this['_getOrientation']();this['_device']=this['_getDevice']();this['_currentScriptUrl']=this['_getScriptUrl']();if(this['isMobile']()){var bs=document['getElementById']('metaViewport');if(bs){var bt=this['_devicesUrl'][this['_device']];var bu=0x1;if(typeof bt=='object'&&this['_orientation']in bt&&this['_orientation']==TDV['PlayerAPI']['ORIENTATION_LANDSCAPE']||this['_device']==TDV['Tour']['DEVICE_GENERAL']){bu=bs['getAttribute']('data-tdv-general-scale')||0.5;}var bv=bs['getAttribute']('content');bv=bv['replace'](/initial-scale=(\d+(\.\d+)?)/,function(bw,bx){return'initial-scale='+bu;});bs['setAttribute']('content',bv);}}};TDV['Tour']['prototype']['_getScriptUrl']=function(){var by=this['_devicesUrl'][this['_device']];if(typeof by=='object'){if(this['_orientation']in by){by=by[this['_orientation']];}}return by;};TDV['Tour']['prototype']['_getDevice']=function(){var bz=TDV['Tour']['DEVICE_GENERAL'];if(!this['_isRemoteSession']&&this['isMobile']()){if(this['isIPad']()&&TDV['Tour']['DEVICE_IPAD']in this['_devicesUrl'])bz=TDV['Tour']['DEVICE_IPAD'];else if(TDV['Tour']['DEVICE_MOBILE']in this['_devicesUrl'])bz=TDV['Tour']['DEVICE_MOBILE'];}return bz;};TDV['Tour']['prototype']['_setMediaFromURL']=function(bA,bB){var bC=this['_getRootPlayer']();var bD=bC['getActivePlayerWithViewer'](bC['getMainViewer']());var bE=bD?bC['getMediaFromPlayer'](bD):undefined;var bF;if('media'in bA){var bG=bA['media'];var bH=Number(bG);bF=isNaN(bH)?this['setMediaByName'](bG):this['setMediaByIndex'](bH-0x1);}else if('media-index'in bA){bF=this['setMediaByIndex'](parseInt(bA['media-index'])-0x1);}else if('media-name'in bA){bF=this['setMediaByName'](decodeURIComponent(bA['media-name']));}if(bF==undefined&&bB!==undefined){bF=this['setMediaByIndex'](0x0);}if(bF!=undefined){var bI=bF['get']('player');var bJ=function(){if('trigger-overlay-name'in bA){this['triggerOverlayByName'](bF['get']('media'),bA['trigger-overlay-name'],bA['trigger-overlay-event']);}if('focus-overlay-name'in bA){this['focusOverlayByName'](bF,bA['focus-overlay-name']);}else if('yaw'in bA||'pitch'in bA){var bN=bC['getPlayListWithItem'](bF);if(bN){switch(bF['get']('class')){case'PanoramaPlayListItem':var bO=parseFloat(bA['yaw'])||undefined;var bP=parseFloat(bA['pitch'])||undefined;var bQ=parseFloat(bA['fov'])||undefined;bC['setPanoramaCameraWithSpot'](bN,bF,bO,bP,bQ);break;case'Model3DPlayListItem':var bR=['yaw','pitch','x','y','z','distance'];var bS={};for(var bT=0x0;bT<bR['length'];++bT){var bU=bR[bT];var bV=parseFloat(bA[bU]);if(!isNaN(bV))bS[bU]=bV;}bC['setModel3DCameraSpot'](bN,bF,bS);break;}}}}['bind'](this);if(bI){var bK=bI['get']('viewerArea')==bC['getMainViewer']();var bL=bC['getMediaFromPlayer'](bI);if(bK&&bE==bF['get']('media')||!bK&&bL==bF['get']('media')){bJ();return bF!=undefined;}}var bM=function(){bF['unbind']('begin',bM,this);bJ();};bF['bind']('begin',bM,bC);}return bF!=undefined;};TDV['Tour']['prototype']['_setupRemote']=function(){if(this['isMobile']()&&TDV['Remote']!=undefined){var bW=function(){var bX;var bY=function(){var c1=this['_getRootPlayer']();bX=c1['get']('lockedOrientation');c1['set']('lockedOrientation',this['_lockedOrientation']);}['bind'](this);this['_isRemoteSession']=!![];this['_lockedOrientation']=TDV['PlayerAPI']['ORIENTATION_LANDSCAPE'];if(this['_device']!=TDV['Tour']['DEVICE_GENERAL']){var bZ=function(){bY();this['unbind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],bZ);}['bind'](this);this['bind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],bZ);this['reload'](!![]);}else{bY();}var c0=function(){this['_isRemoteSession']=![];this['_getRootPlayer']()['set']('lockedOrientation',bX);TDV['Remote']['unbind'](TDV['Remote']['EVENT_CALL_END'],c0);var c2=this['_getScriptUrl']();if(this['_currentScriptUrl']!=c2)this['reload'](!![]);}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_END'],c0);}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_BEGIN'],bW);}};TDV['Tour']['prototype']['_updateParams']=function(c3,c4){if(c4&&'language'in c3){var c5=c3['language'];if(this['locManager']['hasLocale'](c5)){this['setLocale'](c5);}}var c6=function(c8,c9,ca){var cb=c9['split'](',');for(var cc=0x0,cd=cb['length'];cc<cd;++cc){c8['call'](this,cb[cc]['split']('+'),ca,'and');}};var c7=function(ce){var cf=this['_getRootPlayer']();var cg=cf['getActiveMediaWithViewer'](cf['getMainViewer']());if(cg['get']('class')!='Model3D')return;var ch=cg['get']('objects');var ci=[];ce['split']('+')['forEach'](function(cj){var ck=cj['split'](',');var cl=ck['shift']();if(cl in cf&&ck['length']%0x3==0x0){var cm=ck[0x0],cn=ck[0x1],co=ck[0x2];var cp=ch['some'](function(cu){return cu['get']('class')=='MeasureModel3DObject'&&cm==cu['get']('x')&&cn==cu['get']('y')&&co==cu['get']('z');});if(cp)return;var cq=[];var cr=_cloneMeasureModel3DObject['call'](this,this[cl]);cr['set']('mode','view');cr['set']('x',cm);cr['set']('y',cn);cr['set']('z',co);for(var cs=0x3;cs<ck['length'];cs+=0x3){var ct=this['createInstance']('MeasureModel3DObjectPoint');ct['set']('x',ck[cs]);ct['set']('y',ck[cs+0x1]);ct['set']('z',ck[cs+0x2]);cq['push'](ct);}cr['set']('points',cq);ci['push'](cr);}}['bind'](cf));if(ci['length']>0x0){cg['set']('objects',ch['concat'](ci));}};if('hide-components-tags'in c3||'hct'in c3)c6['call'](this,this['setComponentsVisibilityByTags'],c3['hide-components-tags']||c3['hct'],![]);if('show-components-tags'in c3||'sct'in c3)c6['call'](this,this['setComponentsVisibilityByTags'],c3['show-components-tags']||c3['sct'],!![]);if('hide-overlays-tags'in c3||'hot'in c3)c6['call'](this,this['setOverlaysVisibilityByTags'],c3['hide-overlays-tags']||c3['hot'],![]);if('show-overlays-tags'in c3||'sot'in c3)c6['call'](this,this['setOverlaysVisibilityByTags'],c3['show-overlays-tags']||c3['sot'],!![]);if('hide-overlays-names'in c3||'hon'in c3)this['setOverlaysVisibilityByName'](decodeURIComponent(c3['hide-overlays-names']||c3['hon'])['split'](','),![]);if('show-overlays-names'in c3||'son'in c3)this['setOverlaysVisibilityByName'](decodeURIComponent(c3['show-overlays-names']||c3['son'])['split'](','),!![]);if('show-object-ids'in c3||'sobjids'in c3)this['setObjectsVisibilityByID'](decodeURIComponent(c3['show-object-ids']||c3['sobjids'])['split'](','),!![]);if('hide-object-ids'in c3||'hobjids'in c3)this['setObjectsVisibilityByID'](decodeURIComponent(c3['hide-object-ids']||c3['hobjids'])['split'](','),![]);if('variant'in c3)this['setModel3DVariant'](decodeURIComponent(c3['variant']));if('measures'in c3)c7['call'](this,decodeURIComponent(c3['measures']['split'](';')));};TDV['Tour']['LocaleManager']=function(cv,cw,cx,cy){TDV['EventDispatcher']['call'](this);this['rootPlayer']=cv;this['locales']={};this['defaultLocale']=cx;this['queryParam']=cy;this['currentLocaleMap']={};this['currentLocaleID']=undefined;for(var cz in cw){this['registerLocale'](cz,cw[cz]);}};TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']='localeChanged';TDV['Tour']['LocaleManager']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['LocaleManager']['prototype']['registerLocale']=function(cA,cB){var cC=[cA,cA['split']('-')[0x0]];for(var cD=0x0;cD<cC['length'];++cD){cA=cC[cD];if(!(cA in this['locales'])){this['locales'][cA]=cB;}}};TDV['Tour']['LocaleManager']['prototype']['unregisterLocale']=function(cE){delete this['locales'][cE];if(cE==this['currentLocaleID']){this['setLocale'](this['defaultLocale']);}};TDV['Tour']['LocaleManager']['prototype']['hasLocale']=function(cF){return cF in this['locales'];};TDV['Tour']['LocaleManager']['prototype']['setLocale']=function(cG){var cH;var cI=cG['split']('-')[0x0];var cJ=[cG,cI];for(var cK=0x0;cK<cJ['length'];++cK){var cM=cJ[cK];if(cM in this['locales']){cH=cM;break;}}if(cH===undefined){for(var cM in this['locales']){if(cM['indexOf'](cI)==0x0){cH=cM;break;}}}if(cH===undefined){cH=this['defaultLocale'];}var cN=this['locales'][cH];if(cN!==undefined&&this['currentLocaleID']!=cH){this['currentLocaleID']=cH;var cO=this;if(typeof cN=='string'){var cP=new XMLHttpRequest();cP['onreadystatechange']=function(){if(cP['readyState']==0x4){if(cP['status']==0xc8){cO['locales'][cH]=cO['currentLocaleMap']=cO['_parsePropertiesContent'](cP['responseText']);cO['dispatchEvent'](cO['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}else{throw cN+'\x20can\x27t\x20be\x20loaded';}}};var cQ=cN;if(this['queryParam'])cQ+=(cQ['indexOf']('?')==-0x1?'?':'&')+this['queryParam'];cP['open']('GET',cQ);cP['send']();}else{this['currentLocaleMap']=cN;this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}}};TDV['Tour']['LocaleManager']['prototype']['trans']=function(cR){function cS(cW){return/^\d+$/['test'](cW);}var cT=this['currentLocaleMap'][cR];if(cT&&arguments['length']>0x2){var cU=typeof arguments[0x2]=='object'?arguments[0x2]:undefined;var cV=arguments;cT=cT['replace'](/\{\{([\w _\-\.]+)\}\}/g,function(cX,cY){if(cS(cY))cY=cV[parseInt(cY)+0x1];else if(cU!==undefined)cY=cU[cY];if(typeof cY=='string')cY=this['currentLocaleMap'][cY]||cY;else if(typeof cY=='function')cY=cY['call'](this['rootPlayer']);return cY!==undefined?cY:'';}['bind'](this));}return cT;};TDV['Tour']['LocaleManager']['prototype']['_parsePropertiesContent']=function(cZ){cZ=cZ['replace'](/(^|\n)#[^\n]*/g,'');var d0={};var d1=cZ['split']('\x0a');for(var d2=0x0,d3=d1['length'];d2<d3;++d2){var d4=d1[d2]['trim']();if(d4['length']==0x0){continue;}var d5=d4['indexOf']('=');if(d5==-0x1){console['error']('Locale\x20parser:\x20Invalid\x20line\x20'+d2);continue;}var d6=d4['substr'](0x0,d5)['trim']();var d7=d4['substr'](d5+0x1)['trim']();var d8;while((d8=d7['lastIndexOf']('\x5c'))!=-0x1&&d8==d7['length']-0x1&&++d2<d3){d7=d7['substr'](0x0,d7['length']-0x2);d4=d1[d2];if(d4['length']==0x0)break;d7+='\x0a'+d4;d7=d7['trim']();}d0[d6]=d7;}return d0;};TDV['Tour']['HistoryData']=function(d9){this['playList']=d9;this['list']=[];this['pointer']=-0x1;};TDV['Tour']['HistoryData']['prototype']['add']=function(da){if(this['pointer']<this['list']['length']&&this['list'][this['pointer']]==da){return;}++this['pointer'];this['list']['splice'](this['pointer'],this['list']['length']-this['pointer'],da);};TDV['Tour']['HistoryData']['prototype']['back']=function(){if(!this['canBack']())return;this['playList']['set']('selectedIndex',this['list'][--this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['forward']=function(){if(!this['canForward']())return;this['playList']['set']('selectedIndex',this['list'][++this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['canBack']=function(){return this['pointer']>0x0;};TDV['Tour']['HistoryData']['prototype']['canForward']=function(){return this['pointer']>=0x0&&this['pointer']<this['list']['length']-0x1;};function _getObject(db,dc){return typeof dc=='string'?db[dc['replace']('this.','')]:dc;}function _initModels(){var dd=this['getByClassName']('Model3D');dd['forEach'](function(de){var df=de['get']('data');var dg=df['panoramaLocations'];if(dg){dg['forEach'](function(dh){dh=_getObject(this,dh);var di=dh['get']('data');var dj=_getObject(this,di['panorama']);dj['set']('modelLocations',(dj['get']('modelLocations')||[])['concat'](dh));}['bind'](this));}this['getPlayListItems'](de)['forEach'](function(dk){_initModel3DItem['call'](this,dk);}['bind'](this));}['bind'](this));}function _initModel3DItem(dl){var dm=dl['get']('player');if(!dm)return;var dn=dm['get']('viewerArea');if(!dn)return;var dp=dl['get']('media');var dq;dl['bind']('begin',function(){_initModel['call'](this,dp);dq=dn['get']('doubleClickAction');dn['set']('doubleClickAction','none');this['getCurrentPlayers']()['forEach'](function(dr){if(dr['get']('class')=='PanoramaPlayer'&&dr['get']('viewerArea')==dn){dr['set']('model3DPlayer',dm);}});},this);dl['bind']('stop',function(){dn['set']('doubleClickAction',dq);},this);}function _initModel(ds){var dt=ds['get']('data');if(!dt)ds['set']('data',dt={});if(!dt['panoramaLocations']||dt['isInitialized']||!ds['get']('isLoaded'))return;var du=0xb4/Math['PI'];var dv=ds['get']('worldUnitToMeters')||0x1;var dw=dt['maxDistanceObjectsVisible']||0x0;var dx=dt['panoramaLocations'];var dy=[];var dz=this['get']('data')['surfaceSelectionHotspotMode'];var dA=dz=='hotspotEnabled';dx['forEach'](function(dH){dH=_getObject(this,dH);var dI=dH['get']('data');var dJ=ds['getDistanceToFloor']([dH['get']('x'),dH['get']('y'),dH['get']('z')]);var dK=_getObject(this,dI['panorama']);var dL=dx['filter'](function(dU){var dV=_getObject(this,_getObject(this,dU)['get']('data'));return!dV['excludeAsHotspotPanorama']&&dK!=dV['panorama'];}['bind'](this))['map'](function(dW){dW=_getObject(this,dW);var dX=dW['get']('data');var dY=!!dX['excludeSurfaceSelectionModel'];var dZ=dW['get']('x')-dH['get']('x'),e0=dW['get']('y')-dH['get']('y'),e1=dW['get']('z')-dH['get']('z');var e2=Math['atan2'](dZ,-e1)*du;var e3=Math['atan2'](e0,Math['sqrt'](dZ*dZ+e1*e1))*du;var e4=Math['sqrt'](dZ*dZ+e0*e0+e1*e1);var e5=ds['getDistanceToFloor']([dW['get']('x'),dW['get']('y'),dW['get']('z')]);if(dJ!==undefined&&e5!==undefined)e0=e5-dJ;var e6=Math['sqrt'](dZ*dZ+e0*e0+e1*e1);return{'yaw':e2,'pitch':e3,'width':dX['width'],'height':dX['height'],'opacity':dX['opacity'],'anchorX':dX['anchorX']?dX['anchorX']:0.5,'anchorY':dX['anchorY']?dX['anchorY']:0.5,'transparentAreaActive':!!dX['transparentAreaActive'],'actions':dX['actions'],'position':{'x':dW['get']('x'),'y':dW['get']('y'),'z':dW['get']('z')},'toolTip':dX['toolTip'],'image':_getObject(this,dX['image']),'distance':e4*dv,'floorDistance':e6*dv,'panorama':_getObject(this,dX['panorama']),'backwardYaw':e2-0xb4-dW['get']('yaw'),'excludeSurfacePanorama':dY};}['bind'](this));dL['sort'](function(e7,e8){return e7['distance']-e8['distance'];});var dM=[],dN=(dK['get']('adjacentPanoramas')||[])['concat']();var dO=ds['get']('maxNearestObjectsVisible');var dP=dt['showOnlyHotspotsLineSightInPanoramas'];var dQ={'x':dH['get']('x'),'y':dH['get']('y'),'z':dH['get']('z')};dL['forEach'](function(e9){if(e9['panorama']==dK||dO>0x0&&dM['length']>=dO||dw>0x0&&e9['distance']>dw||dP&&ds['testIntersection'](dQ,e9['position']))return;var ea=dC['call'](this,e9['panorama'],e9['yaw']-dH['get']('yaw'),e9['pitch'],e9['width'],e9['height'],e9['anchorX'],e9['anchorY'],e9['opacity'],e9['transparentAreaActive'],e9['image'],dA&&!e9['excludeSurfacePanorama']);var eb=dD['call'](this,e9['panorama'],e9['yaw']-dH['get']('yaw'),e9['backwardYaw'],e9['floorDistance'],!e9['excludeSurfacePanorama']);dM['push'](ea);var ec=dN['findIndex'](function(ef){return ef['get']('panorama')==e9['panorama'];});if(ec!=-0x1)dN['splice'](ec,0x1);dN['push'](eb);var ed=ea['get']('areas')[0x0];if(e9['toolTip'])ed['set']('toolTip',e9['toolTip']);ed['bind']('click',dB['bind'](this,dK,e9['panorama'],ds,!![]),this);eb['bind']('select',dB['bind'](this,dK,e9['panorama'],ds,!![]),this);var ee=e9['actions'];if(ee){dG['call'](this,ea,ee);if('click'in ee)eb['bind']('select',new Function('event',ee['click']),this);}}['bind'](this));dK['set']('overlays',(dK['get']('overlays')||[])['concat'](dM));dK['set']('adjacentPanoramas',dN);var dR=!ds['get']('surfaceSelectionEnabled')||!!dI['excludeSurfaceSelectionModel'];var dS;if(dR){dS=dE['call'](this,dH['get']('x'),dH['get']('y'),dH['get']('z'),dI['width'],dI['height'],dI['anchorX']?dI['anchorX']:0.5,dI['anchorY']?dI['anchorY']:0.5,dI['opacity'],!!dI['transparentAreaActive'],dt['showOnlyHotspotsLineSight'],_getObject(this,dI['image']));dS['set']('id','sprite_'+dH['get']('id'));dS['set']('translationLineColor',dI['translationLineColor']!=null?dI['translationLineColor']:'#ffffff');dS['set']('translationLineOpacity',dI['translationLineOpacity']!=null?dI['translationLineOpacity']:0x1);dS['set']('translationLineVisible',dI['translationLineVisible']!=null?dI['translationLineVisible']:![]);dS['set']('translationLineWidth',dI['translationLineWidth']!=null?dI['translationLineWidth']:0x1);dS['set']('translationLength',dI['translationLength']!=null?dI['translationLength']:dt['showOnlyHotspotsLineSight']&&(dI['translationY']==null||dI['translationY']==0x0)?dI['height']/0x2:undefined);dS['set']('translationX',dI['translationX']!=null?dI['translationX']:0x0);dS['set']('translationY',dI['translationY']!=null&&dI['translationY']!=0x0?dI['translationY']:dt['showOnlyHotspotsLineSight']?0x1:0x0);dS['set']('translationZ',dI['translationZ']!=null?dI['translationZ']:0x0);if(dI['toolTip'])dS['set']('toolTip',dI['toolTip']);}else dS=dF['call'](this,dH['get']('x'),dH['get']('y'),dH['get']('z'));dI['object']=dS;if(dI['tags']!==undefined)dS['get']('data')['tags']=dI['tags'];if(dI['enabled']!==undefined)dS['set']('enabled',dI['enabled']);dS['get']('data')['location']=dH;var dT=dI['actions'];if(dT){dG['call'](this,dS,dT);}dS['bind']('click',dB['bind'](this,ds,dK,ds,![]),this);dy['push'](dS);}['bind'](this));ds['set']('objects',(ds['get']('objects')||[])['concat'](dy));dt['isInitialized']=!![];function dB(eg,eh,ei,ej){var ek=this['getPlayListsWithMedia'](eg,!![])['filter'](function(er){return this['getMediaFromPlayer'](er['get']('items')[er['get']('selectedIndex')]['get']('player'))==eg;}['bind'](this));if(ek['length']==0x0)return;var el=this['getPlayListItemByMedia'](ek[0x0],eg);var em=el['get']('player')['get']('viewerArea');var en;this['getPlayListsWithMedia'](eh)['forEach'](function(es){var et=this['getPlayListItemByMedia'](es,eh);if(et['get']('player')['get']('viewerArea')==em){if(ej&&el['get']('player')['get']('viewerArea')['get']('translationTransitionEnabled')){eo();et['bind']('begin',eq,this);}es['set']('selectedIndex',es['get']('items')['indexOf'](et));}}['bind'](this));function eo(){en=ei['get']('objects')['filter'](function(eu){var ev=eu['get']('data');return ev&&ev['location']!==undefined;});en['forEach'](function(ew){ew['set']('enabled',![]);});}function ep(){en['forEach'](function(ex){ex['set']('enabled',!![]);});}function eq(ey){ey['source']['unbind']('begin',eq,this);ep();}}function dC(ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ){var eK=_createInstanceFromObj(this,{'class':'HotspotPanoramaOverlay','useHandCursor':!![],'enabledInSurfaceSelection':eJ,'areas':[{'class':'HotspotPanoramaOverlayArea','mapColor':eH?'any':'image'}],'items':[{'class':'FlatHotspotPanoramaOverlayImage','yaw':eA,'pitch':eB,'width':eC,'height':eD,'offsetX':eE*eC,'offsetY':eF*eD,'opacity':eG!=undefined?eG:0x1}]});eK['get']('items')[0x0]['set']('image',eI);return eK;}function dD(eL,eM,eN,eO,eP){return _createInstanceFromObj(this,{'class':'AdjacentPanorama','panorama':'this.'+eL['get']('id'),'backwardYaw':eN,'yaw':eM,'distance':eO,'enabledInSurfaceSelection':eP});}function dE(eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,f0){var f1=_createInstanceFromObj(this,{'class':'SpriteModel3DObject','x':eQ,'y':eR,'z':eS,'anchorX':eV,'anchorY':eW,'depthTest':eZ,'transparentAreaActive':eY,'hideBasedOnDistance':!![],'width':eT,'height':eU,'opacity':eX!=undefined?eX:0x1,'data':{}});f1['set']('image',f0);return f1;}function dF(f2,f3,f4){return _createInstanceFromObj(this,{'class':'SurfaceReticleModel3DObject','x':f2,'y':f3,'z':f4,'depthTest':![],'data':{}});}function dG(f5,f6){Object['keys'](f6)['forEach'](function(f7){if(f5['hasEvent'](f7))f5['bind'](f7,new Function('event',f6[f7]),this);}['bind'](this));}}function _findLocationWithPanorama(f8){var f9=this['getByClassName']('Model3D');for(var fa=0x0,fb=f9['length'];fa<fb;++fa){var fc=f9[fa];var fd=fc['get']('data');if(fd&&fd['panoramaLocations']){var fe=fd['panoramaLocations']['find'](function(ff){ff=_getObject(this,ff);return _getObject(this,ff['get']('data')['panorama'])==f8;}['bind'](this));if(fe)return _getObject(this,fe);}}return undefined;}function _getPlayersWithViewer(fg){var fh=this['getCurrentPlayers']();var fi=fh['length'];while(fi-->0x0){var fj=fh[fi];if(fj['get']('viewerArea')!=fg){fh['splice'](fi,0x1);}}return fh;}function _createInstance(fk,fl,fm){var fn=fk['createInstance'](fl);if(fm){fn['set']('id',fm);fk[fm]=fn;}return fn;}function _createInstanceFromObj(fo,fp){return fq(fp);function fq(fr,fs){if(typeof fr=='object'){if('class'in fr){try{fs=_createInstance(fo,fr['class'],fr['id']);}catch(fw){fs=fr;}}else{fs=fr;}}var ft=function(fx,fy){if('set'in fs)fs['set'](fx,fy);else fs[fx]=fy;};for(var fu in fr){var fv=fr[fu];if(typeof fv=='object'&&fv!==null)ft(fu,fq(fv,fs));else if(typeof fv=='string'&&fv['indexOf']('this.')==0x0)ft(fu,fo[fv['replace']('this.','')]);else ft(fu,fv);}return fs;}}TDV['Tour']['Script']=function(){};TDV['Tour']['Script']['assignObjRecursively']=function(fz,fA){for(var fB in fz){var fC=fz[fB];if(typeof fC=='object'&&fC!==null)this['assignObjRecursively'](fz[fB],fA[fB]||(fA[fB]={}));else fA[fB]=fC;}return fA;};TDV['Tour']['Script']['autotriggerAtStart']=function(fD,fE,fF){var fG=function(fH){fE();if(fF==!![])fD['unbind']('change',fG,this);};fD['bind']('change',fG,this);};TDV['Tour']['Script']['changeBackgroundWhilePlay']=function(fI,fJ,fK){var fL=function(){fM['unbind']('stop',fL,this);if(fK==fO['get']('backgroundColor')&&fR==fO['get']('backgroundColorRatios')){fO['set']('backgroundColor',fP);fO['set']('backgroundColorRatios',fQ);}};var fM=fI['get']('items')[fJ];var fN=fM['get']('player');var fO=fN['get']('viewerArea');var fP=fO['get']('backgroundColor');var fQ=fO['get']('backgroundColorRatios');var fR=[0x0];if(fK!=fP||fR!=fQ){fO['set']('backgroundColor',fK);fO['set']('backgroundColorRatios',fR);fM['bind']('stop',fL,this);}};TDV['Tour']['Script']['changeOpacityWhilePlay']=function(fS,fT,fU){var fV=function(){fW['unbind']('stop',fV,this);if(fZ==fY['get']('backgroundOpacity')){fY['set']('opacity',fZ);}};var fW=fS['get']('items')[fT];var fX=fW['get']('player');var fY=fX['get']('viewerArea');var fZ=fY['get']('backgroundOpacity');if(fU!=fZ){fY['set']('backgroundOpacity',fU);fW['bind']('stop',fV,this);}};TDV['Tour']['Script']['changePlayListWithSameSpot']=function(g0,g1){var g2=g0['get']('selectedIndex');if(g2>=0x0&&g1>=0x0&&g2!=g1){var g3=g0['get']('items')[g2];var g4=g0['get']('items')[g1];var g5=g3['get']('player');var g6=g4['get']('player');if((g5['get']('class')=='PanoramaPlayer'||g5['get']('class')=='Video360Player')&&(g6['get']('class')=='PanoramaPlayer'||g6['get']('class')=='Video360Player')){var g7=this['clonePanoramaCamera'](g4['get']('camera'));this['setCameraSameSpotAsMedia'](g7,g3['get']('media'));var g8=g7['get']('initialPosition');if(g8['get']('yaw')==undefined||g8['get']('pitch')==undefined||g8['get']('hfov')==undefined)return;this['startPanoramaWithCamera'](g4['get']('media'),g7);}}};TDV['Tour']['Script']['clone']=function(g9,gb){var gc=this['rootPlayer']['createInstance'](g9['get']('class'));var gd=g9['get']('id');if(gd){var ge=gd+'_'+Math['random']()['toString'](0x24)['substring'](0x2,0xf);gc['set']('id',ge);this[ge]=gc;}for(var gf=0x0;gf<gb['length'];++gf){var gg=gb[gf];var gh=g9['get'](gg);if(gh!=null)gc['set'](gg,gh);}return gc;};TDV['Tour']['Script']['cloneBindings']=function(gi,gj,gk){var gl=gi['getBindings'](gk);for(var gm=0x0;gm<gl['length'];++gm){var gn=gl[gm];if(typeof gn=='string')gn=new Function('event',gn);gj['bind'](gk,gn,this);}};TDV['Tour']['Script']['clonePanoramaCamera']=function(go){var gp=this['clone'](go,['manualRotationSpeed','manualZoomSpeed','automaticRotationSpeed','automaticZoomSpeed','timeToIdle','sequences','draggingFactor','hoverFactor']);var gq=['initialSequence','idleSequence'];for(var gr=0x0;gr<gq['length'];++gr){var gs=gq[gr];var gt=go['get'](gs);if(gt){var gu=this['clone'](gt,['mandatory','repeat','restartMovementOnUserInteraction','restartMovementDelay']);gp['set'](gs,gu);var gv=gt['get']('movements');var gw=[];var gx=['easing','duration','hfovSpeed','pitchSpeed','yawSpeed','path','stereographicFactorSpeed','targetYaw','targetPitch','targetHfov','targetStereographicFactor','hfovDelta','pitchDelta','yawDelta'];for(var gy=0x0;gy<gv['length'];++gy){var gz=gv[gy];var gA=this['clone'](gz,gx);var gB=gz['getBindings']('end');if(gB['length']>0x0){for(var gC=0x0;gC<gB['length'];++gC){var gD=gB[gC];if(typeof gD=='string'){gD=gD['replace'](go['get']('id'),gp['get']('id'));gD=new Function('event',gD);gA['bind']('end',gD,this);}}}gw['push'](gA);}gu['set']('movements',gw);}}return gp;};TDV['Tour']['Script']['copyObjRecursively']=function(gE){var gF={};for(var gG in gE){var gH=gE[gG];if(typeof gH=='object'&&gH!==null)gF[gG]=this['copyObjRecursively'](gE[gG]);else gF[gG]=gH;}return gF;};TDV['Tour']['Script']['copyToClipboard']=function(gI){if(navigator['clipboard']){navigator['clipboard']['writeText'](gI);}else{var gJ=document['createElement']('textarea');gJ['value']=gI;gJ['style']['position']='fixed';document['body']['appendChild'](gJ);gJ['focus']();gJ['select']();try{document['execCommand']('copy');}catch(gK){}document['body']['removeChild'](gJ);}};TDV['Tour']['Script']['createTween']=function(gL,gM,gN,gO,gP){var gQ=this['rootPlayer']['createInstance']('Effect');var gR=this['get']('data')['tweensState'];if(!gR){this['get']('data')['tweensState']=gR={};}var gS='get'in gL&&typeof gL['get']==='function';var gT=(gS&&gL['get']('id')?gL['get']('id'):(Math['random']()+0x1)['toString'](0x24)['substring'](0x2))+'_';var gU={};for(var gV in gM){var gW=gM[gV];if(gV['startsWith']('on')&&(typeof gW==='function'||typeof gW==='string')){var gX=gV['slice'](0x2);if(typeof gW==='string')gW=eval('('+gW+')');gQ['bind'](gX['charAt'](0x0)['toLowerCase']()+gX['slice'](0x1),gW,this);}else if(typeof gW==='string'&&gW['startsWith']('#')){var gY=parseInt('0x'+(gS?gL['get'](gV)['slice'](0x1):gL[gV]['slice'](0x1)));var gZ=parseInt('0x'+gW['slice'](0x1));gU[gV]={'color':!![],'initialRGB':[gY>>0x10&0xff,gY>>0x8&0xff,gY&0xff],'finalRGB':[gZ>>0x10&0xff,gZ>>0x8&0xff,gZ&0xff]};gR[gT+gV]=gQ;}else{gU[gV]=gS?gL['get'](gV):gL[gV];if(gV=='yaw'&&gW-gU[gV]>0xb4)gU[gV]=gU[gV]+(gW>gU[gV]?0x168:-0x168);gR[gT+gV]=gQ;}}gQ['set']('duration',(gN||0x0)*0x3e8);gQ['set']('easing',gO||'cubic_in_out');gQ['set']('animationDirection',gP||'normal');gQ['bind']('end',function(){for(var h0 in gU){if(gR[gT+h0]==gQ)delete gR[gT+h0];}this['disposeInstance'](gQ);},this);gQ['bind']('frame',function(){var h1=gQ['getPosition']();for(var h2 in gU){var h3=gU[h2];if(gR[gT+h2]!=gQ)continue;if(typeof h3==='object'&&'color'in h3){var h4=Math['round'](h3['initialRGB'][0x0]+(h3['finalRGB'][0x0]-h3['initialRGB'][0x0])*h1);var h5=Math['round'](h3['initialRGB'][0x1]+(h3['finalRGB'][0x1]-h3['initialRGB'][0x1])*h1);var h6=Math['round'](h3['initialRGB'][0x2]+(h3['finalRGB'][0x2]-h3['initialRGB'][0x2])*h1);h3='#'+((0x1<<0x18)+(h4<<0x10)+(h5<<0x8)+h6)['toString'](0x10)['slice'](0x1);}else{h3=h3+(gM[h2]-h3)*h1;}if(gS)gL['set'](h2,h3);else gL[h2]=h3;}},this);return gQ;};TDV['Tour']['Script']['executeFunctionWhenChange']=function(h7,h8,h9,ha){var hb=undefined;var hc=function(hg){if(hg['data']['previousSelectedIndex']==h8){if(ha)ha['call'](this);if(h9&&hb)hb['unbind']('end',h9,this);h7['unbind']('change',hc,this);}};if(h9){var hd=h7['get']('items')[h8];var he=hd['get']('class');if(he=='PanoramaPlayListItem'||he=='Model3DPlayListItem'){var hf=hd['get']('camera');if(hf!=undefined){hb=hf['get']('initialSequence');if(hb==undefined)hb=hf['get']('idleSequence');}}else{hb=hd['get']('media');}if(hb){hb['bind']('end',h9,this);}}h7['bind']('change',hc,this);};TDV['Tour']['Script']['executeJS']=function(hh){try{eval(hh);}catch(hi){console['log']('Javascript\x20error:\x20'+hi);console['log']('\x20\x20\x20code:\x20'+hh);}};TDV['Tour']['Script']['fixTogglePlayPauseButton']=function(hj){var hk=hj['get']('buttonPlayPause');if(typeof hk!=='undefined'&&hj['get']('state')=='playing'){if(!Array['isArray'](hk))hk=[hk];for(var hl=0x0;hl<hk['length'];++hl)hk[hl]['set']('pressed',!![]);}};TDV['Tour']['Script']['getActiveMediaWithViewer']=function(hm){var hn=this['getActivePlayerWithViewer'](hm);if(hn==undefined){return undefined;}return this['getMediaFromPlayer'](hn);};TDV['Tour']['Script']['getActivePlayerWithViewer']=function(ho){var hp=this['getActivePlayersWithViewer'](ho);if(hp['length']>0x1){hp['sort'](function(hq,hr){var hs=hq['get']('class');var ht=hr['get']('class');if(hs=='Model3DPlayer')return 0x1;else if(ht=='Model3DPlayer')return-0x1;else return 0x0;});}return hp['length']>0x0?hp[0x0]:undefined;};TDV['Tour']['Script']['getActivePlayersWithViewer']=function(hu){var hv=this['getCurrentPlayers']();var hw=hv['length'];var hx=[];while(hw-->0x0){var hy=hv[hw];if(hy['get']('viewerArea')==hu){var hz=hy['get']('class');if(hz=='PanoramaPlayer'&&(hy['get']('panorama')!=undefined||hy['get']('video')!=undefined)||(hz=='VideoPlayer'||hz=='Video360Player')&&hy['get']('video')!=undefined||hz=='PhotoAlbumPlayer'&&hy['get']('photoAlbum')!=undefined||hz=='MapPlayer'&&hy['get']('map')!=undefined||hz=='Model3DPlayer'&&hy['get']('model')!=undefined)hx['push'](hy);}}return hx;};TDV['Tour']['Script']['getCurrentPlayerWithMedia']=function(hA){var hB=undefined;var hC=undefined;switch(hA['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':hB='PanoramaPlayer';hC='panorama';break;case'Video360':hB='PanoramaPlayer';hC='video';break;case'PhotoAlbum':hB='PhotoAlbumPlayer';hC='photoAlbum';break;case'Map':hB='MapPlayer';hC='map';break;case'Video':hB='VideoPlayer';hC='video';break;case'Model3D':hB='Model3DPlayer';hC='media';break;}if(hB!=undefined){var hD=this['getByClassName'](hB);for(var hE=0x0;hE<hD['length'];++hE){var hF=hD[hE];if(hF['get'](hC)==hA){return hF;}}}else{return undefined;}};TDV['Tour']['Script']['getCurrentPlayers']=function(){var hG=this['getByClassName']('PanoramaPlayer');hG=hG['concat'](this['getByClassName']('VideoPlayer'));hG=hG['concat'](this['getByClassName']('Video360Player'));hG=hG['concat'](this['getByClassName']('PhotoAlbumPlayer'));hG=hG['concat'](this['getByClassName']('MapPlayer'));hG=hG['concat'](this['getByClassName']('Model3DPlayer'));return hG;};TDV['Tour']['Script']['getGlobalAudio']=function(hH){var hI=window['currentGlobalAudios'];if(hI!=undefined&&hH['get']('id')in hI){hH=hI[hH['get']('id')]['audio'];}return hH;};TDV['Tour']['Script']['getMediaByName']=function(hJ){var hK=this['getByClassName']('Media');for(var hL=0x0,hM=hK['length'];hL<hM;++hL){var hN=hK[hL];var hO=hN['get']('data');if(hO&&hO['label']==hJ){return hN;}}return undefined;};TDV['Tour']['Script']['getMediaByTags']=function(hP,hQ){return this['_getObjectsByTags'](hP,['Media'],'tags2Media',hQ);};TDV['Tour']['Script']['getAudioByTags']=function(hR,hS){return this['_getObjectsByTags'](hR,['Audio'],'tags2Media',hS);};TDV['Tour']['Script']['getOverlaysByTags']=function(hT,hU){var hV=this['_getObjectsByTags'](hT,['HotspotPanoramaOverlay','HotspotMapOverlay','VideoPanoramaOverlay','QuadVideoPanoramaOverlay','FramePanoramaOverlay','QuadFramePanoramaOverlay','SpriteModel3DObject','PanoramaModel3DLocation'],'tags2Overlays',hU);return hV['map'](hW=>{return hW['get']('class')=='PanoramaModel3DLocation'?hW['get']('data')['object']:hW;});};TDV['Tour']['Script']['getOverlaysByGroupname']=function(hX){var hY=this['get']('data');var hZ='groupname2Overlays';var i0=hY[hZ];if(!i0){var i1=['HotspotPanoramaOverlay','VideoPanoramaOverlay','QuadVideoPanoramaOverlay','FramePanoramaOverlay','QuadFramePanoramaOverlay'];hY[hZ]=i0={};for(var i2=0x0;i2<i1['length'];++i2){var i3=i1[i2];var i4=this['getByClassName'](i3);for(var i5=0x0,i6=i4['length'];i5<i6;++i5){var i7=i4[i5];var i8=i7['get']('data');if(i8&&i8['group']){var i9=i0[i8['group']];if(!i9)i0[i8['group']]=i9=[];i9['push'](i7);}}}}return i0[hX]||[];};TDV['Tour']['Script']['getRootOverlay']=function(ia){var ib=ia['get']('class');var ic=ib['indexOf']('HotspotPanoramaOverlayArea')!=-0x1;var ie=ib['indexOf']('HotspotPanoramaOverlayImage')!=-0x1;if(ic||ie){var ig=this['get']('data');var ih='overlays';var ii=ig[ih];if(!ii){var ij=['HotspotPanoramaOverlay'];ii=[];for(var ik=0x0;ik<ij['length'];++ik){var il=ij[ik];ii=ii['concat'](this['getByClassName'](il));}ig[ih]=ii;}var im=ic?'areas':'items';for(var io=0x0,ip=ii['length'];io<ip;++io){var iq=ii[io];var ir=iq['get'](im);if(ir){for(var is=0x0;is<ir['length'];++is){if(ir[is]==ia)return iq;}}}}return ia;};TDV['Tour']['Script']['initOverlayGroupRotationOnClick']=function(it){var iu=this['getOverlaysByGroupname'](it);if(iu['length']>0x1){iu['sort'](function(iB,iC){var iD=iB['get']('data')['groupIndex'];var iE=iC['get']('data')['groupIndex'];return iD-iE;});for(var iv=0x0,iw=iu['length'];iv<iw;++iv){var ix=iu[iv];var iy=iu[(iv+0x1)%iw];var iz=ix['get']('class');var iA=ix;if(iz=='HotspotPanoramaOverlay'){iA=ix['get']('areas')[0x0];}iA['bind']('click',function(iF,iG){this['setOverlaysVisibility']([iF],![]);this['setOverlaysVisibility']([iG],!![]);}['bind'](this,ix,iy),this);}}};TDV['Tour']['Script']['getComponentsByTags']=function(iH,iI){return this['_getObjectsByTags'](iH,['UIComponent'],'tags2Components',iI);};TDV['Tour']['Script']['_getObjectsByTags']=function(iJ,iK,iL,iM){var iN=this['get']('data');var iO=iN[iL];if(!iO){iN[iL]=iO={};for(var iP=0x0;iP<iK['length'];++iP){var iQ=iK[iP];var iR=this['getByClassName'](iQ);for(var iT=0x0,iV=iR['length'];iT<iV;++iT){var iX=iR[iT];var iY=iX['get']('data');if(iY&&iY['tags']){var iZ=iY['tags'];for(var j2=0x0,j3=iZ['length'];j2<j3;++j2){var j4=iZ[j2];if(j4 in iO)iO[j4]['push'](iX);else iO[j4]=[iX];}}}}}var j5=undefined;iM=iM||'and';for(var iT=0x0,iV=iJ['length'];iT<iV;++iT){var j6=iO[iJ[iT]];if(!j6)continue;if(!j5)j5=j6['concat']();else{if(iM=='and'){for(var j2=j5['length']-0x1;j2>=0x0;--j2){if(j6['indexOf'](j5[j2])==-0x1)j5['splice'](j2,0x1);}}else if(iM=='or'){for(var j2=j6['length']-0x1;j2>=0x0;--j2){var iX=j6[j2];if(j5['indexOf'](iX)==-0x1)j5['push'](iX);}}}}return j5||[];};TDV['Tour']['Script']['getComponentByName']=function(j7){var j8=this['getByClassName']('UIComponent');for(var j9=0x0,ja=j8['length'];j9<ja;++j9){var jb=j8[j9];var jc=jb['get']('data');if(jc!=undefined&&jc['name']==j7){return jb;}}return undefined;};TDV['Tour']['Script']['getMainViewer']=function(){var jd='MainViewer';return this[jd]||this[jd+'_mobile'];};TDV['Tour']['Script']['getMediaFromPlayer']=function(je){switch(je['get']('class')){case'PanoramaPlayer':return je['get']('panorama')||je['get']('video');case'VideoPlayer':case'Video360Player':return je['get']('video');case'PhotoAlbumPlayer':return je['get']('photoAlbum');case'MapPlayer':return je['get']('map');case'Model3DPlayer':return je['get']('model');}};TDV['Tour']['Script']['getMediaWidth']=function(jf){switch(jf['get']('class')){case'Video360':var jg=jf['get']('video');if(jg instanceof Array){var jh=0x0;for(var ji=0x0;ji<jg['length'];ji++){var jj=jg[ji];if(jj['get']('width')>jh)jh=jj['get']('width');}return jh;}else{return jj['get']('width');}default:return jf['get']('width');}};TDV['Tour']['Script']['getMediaHeight']=function(jk){switch(jk['get']('class')){case'Video360':var jl=jk['get']('video');if(jl instanceof Array){var jm=0x0;for(var jn=0x0;jn<jl['length'];jn++){var jo=jl[jn];if(jo['get']('height')>jm)jm=jo['get']('height');}return jm;}else{return jo['get']('height');}default:return jk['get']('height');}};TDV['Tour']['Script']['getOverlays']=function(jp){switch(jp['get']('class')){case'LivePanorama':case'HDRPanorama':case'Panorama':var jq=jp['get']('overlays')['concat']()||[];var jr=jp['get']('frames');for(var js=0x0;js<jr['length'];++js){jq=jq['concat'](jr[js]['get']('overlays')||[]);}return jq;case'Video360':case'Map':return jp['get']('overlays')||[];case'Model3D':return jp['get']('objects');default:return[];}};TDV['Tour']['Script']['getPanoramaOverlayByName']=function(jt,ju){var jv=this['getOverlays'](jt);for(var jw=0x0,jx=jv['length'];jw<jx;++jw){var jy=jv[jw];var jz=jy['get']('data');if(jz!=undefined&&jz['label']==ju){return jy;}}return undefined;};TDV['Tour']['Script']['getPanoramaOverlaysByTags']=function(jA,jB,jC){var jD=[];var jE=this['getOverlays'](jA);var jF=this['getOverlaysByTags'](jB,jC);for(var jG=0x0,jH=jE['length'];jG<jH;++jG){var jI=jE[jG];if(jF['indexOf'](jI)!=-0x1)jD['push'](jI);}return jD;};TDV['Tour']['Script']['getPixels']=function(jJ){var jK=/((\+|-)?d+(.d*)?)(px|vw|vh|vmin|vmax)?/i['exec'](jJ);if(jK==undefined){return 0x0;}var jL=parseFloat(jK[0x1]);var jM=jK[0x4];var jN=this['rootPlayer']['get']('actualWidth')/0x64;var jO=this['rootPlayer']['get']('actualHeight')/0x64;switch(jM){case'vw':return jL*jN;case'vh':return jL*jO;case'vmin':return jL*Math['min'](jN,jO);case'vmax':return jL*Math['max'](jN,jO);default:return jL;}};TDV['Tour']['Script']['getPlayListsWithMedia']=function(jP,jQ){var jR=[];var jS=this['getByClassName']('PlayList');for(var jT=0x0,jU=jS['length'];jT<jU;++jT){var jV=jS[jT];if(jQ&&jV['get']('selectedIndex')==-0x1)continue;var jW=this['getPlayListItemByMedia'](jV,jP);if(jW!=undefined&&jW['get']('player')!=undefined)jR['push'](jV);}return jR;};TDV['Tour']['Script']['_getPlayListsWithViewer']=function(jX){var jY=this['getByClassName']('PlayList');var jZ=function(k1){var k2=k1['get']('items');for(var k3=k2['length']-0x1;k3>=0x0;--k3){var k4=k2[k3];var k5=k4['get']('player');if(k5!==undefined&&k5['get']('viewerArea')==jX)return!![];}return![];};for(var k0=jY['length']-0x1;k0>=0x0;--k0){if(!jZ(jY[k0]))jY['splice'](k0,0x1);}return jY;};TDV['Tour']['Script']['getPlayListWithItem']=function(k6){var k7=this['getByClassName']('PlayList');for(var k8=k7['length']-0x1;k8>=0x0;--k8){var k9=k7[k8];var ka=k9['get']('items');for(var kb=ka['length']-0x1;kb>=0x0;--kb){var kc=ka[kb];if(kc==k6)return k9;}}return undefined;};TDV['Tour']['Script']['getFirstPlayListWithMedia']=function(kd,ke){var kf=this['getPlayListsWithMedia'](kd,ke);return kf['length']>0x0?kf[0x0]:undefined;};TDV['Tour']['Script']['getPlayListItemByMedia']=function(kg,kh){var ki=kg['get']('items');for(var kj=0x0,kk=ki['length'];kj<kk;++kj){var kl=ki[kj];if(kl['get']('media')==kh)return kl;}return undefined;};TDV['Tour']['Script']['getPlayListItemIndexByMedia']=function(km,kn){var ko=this['getPlayListItemByMedia'](km,kn);return ko?km['get']('items')['indexOf'](ko):-0x1;};TDV['Tour']['Script']['getPlayListItems']=function(kp,kq){var kr=function(){switch(kp['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':return'PanoramaPlayListItem';case'Map':return'MapPlayListItem';case'Model3D':return'Model3DPlayListItem';case'PhotoAlbum':return'PhotoAlbumPlayListItem';case'Video':return'VideoPlayListItem';case'Video360':return'Video360PlayListItem';}}();if(kr!=undefined){var ks=this['getByClassName'](kr);for(var kt=ks['length']-0x1;kt>=0x0;--kt){var ku=ks[kt];if(ku['get']('media')!=kp||kq!=undefined&&ku['get']('player')!=kq){ks['splice'](kt,0x1);}}return ks;}else{return[];}};TDV['Tour']['Script']['historyGoBack']=function(kv){var kw=this['get']('data')['history'][kv['get']('id')];if(kw!=undefined){kw['back']();}};TDV['Tour']['Script']['historyGoForward']=function(kx){var ky=this['get']('data')['history'][kx['get']('id')];if(ky!=undefined){ky['forward']();}};TDV['Tour']['Script']['init']=function(){var kz=this['get']('data')['history'];var kA=function(kJ){var kK=kJ['source'];var kL=kK['get']('selectedIndex');if(kL<0x0)return;var kM=kK['get']('id');if(!kz['hasOwnProperty'](kM))kz[kM]=new TDV['Tour']['HistoryData'](kK);kz[kM]['add'](kL);};var kB=this['getByClassName']('PlayList');for(var kD=0x0,kE=kB['length'];kD<kE;++kD){var kF=kB[kD];kF['bind']('change',kA,this);}if(this['getMainViewer']()['get']('translationTransitionEnabled')){var kG=this['getByClassName']('ThumbnailList');kG=kG['concat'](this['getByClassName']('ThumbnailGrid'));kG=kG['concat'](this['getByClassName']('DropDown'));function kN(kO){var kP=kO['source']['get']('playList');var kQ=kP['get']('selectedIndex');if(kQ>=0x0){this['skip3DTransitionOnce'](kP['get']('items')[kQ]['get']('player'));}}for(var kD=0x0,kH=kG['length'];kD<kH;++kD){var kI=kG[kD];kI['bind']('change',kN,this);}}_initModels['call'](this);};TDV['Tour']['Script']['sendAnalyticsData']=function(kR,kS,kT){if(window['dataLayer']){window['dataLayer']['push']({'event':kS,'label':kT,'category':kR});}if(!this['get']('data')['tour']['player']['cookiesEnabled'])return;if(window['ga']){window['ga']('send','event',kR,kS,kT);}if(window['gtag']){window['gtag']('event',kS,{'category':kR,'label':kT});}};TDV['Tour']['Script']['initAnalytics']=function(){var kV=this['getByClassName']('Panorama');kV=kV['concat'](this['getByClassName']('Video360'));kV=kV['concat'](this['getByClassName']('Map'));kV=kV['concat'](this['getByClassName']('Model3D'));for(var kY=0x0,l1=kV['length'];kY<l1;++kY){var l2=kV[kY];var l5=l2['get']('data');var l6=l5?l5['label']:'';var l7=this['getOverlays'](l2);for(var l8=0x0,l9=l7['length'];l8<l9;++l8){var la=l7[l8];var lb=la['get']('data')!=undefined?l6+'\x20-\x20'+la['get']('data')['label']:l6;switch(la['get']('class')){case'FlatHotspotPanoramaOverlay':case'HotspotPanoramaOverlay':case'HotspotMapOverlay':case'AreaHotspotMapOverlay':var lc=la['get']('areas');for(var ld=0x0;ld<lc['length'];++ld){lc[ld]['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',lb),this,![]);}break;case'CeilingCapPanoramaOverlay':case'TripodCapPanoramaOverlay':la['bind']('click',this['sendAnalyticsData']['bind'](this,'Cap','click',lb),this,![]);break;case'QuadVideoPanoramaOverlay':case'VideoPanoramaOverlay':la['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',lb),this,![]);la['bind']('start',this['sendAnalyticsData']['bind'](this,'Hotspot','start',lb),this,![]);break;case'QuadFramePanoramaOverlay':case'FramePanoramaOverlay':case'SpriteModel3DObject':la['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',lb),this,![]);break;}}}var le=this['getByClassName']('UIComponent');for(var kY=0x0,l1=le['length'];kY<l1;++kY){var lf=le[kY];var lg=lf['getBindings']('click');if(lg['length']>0x0){var l5=lf['get']('data');if(l5===undefined)continue;var lh=l5['name'];lf['bind']('click',this['sendAnalyticsData']['bind'](this,'Skin','click',lh),this,![]);}}var li=this['mainPlayList']['get']('items')['concat'](this['getByClassName']('PlayListItem'));var lj={};for(var kY=0x0,l1=li['length'];kY<l1;++kY){var lk=li[kY];var kV=lk['get']('media');if(!(kV['get']('id')in lj)){var l5=kV['get']('data');lk['bind']('begin',this['sendAnalyticsData']['bind'](this,'Media','play',l5?l5['label']:undefined),this,![]);lj[kV['get']('id')]=lk;}}if(TDV['Remote']!=undefined){var ll=undefined;TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_BEGIN'],function(lm){ll=Date['now']();this['sendAnalyticsData']('Live\x20Guided\x20Tour','Start\x20Call','Guest:\x20'+lm);}['bind'](this));TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_END'],function(ln){var lo=new Date();lo['setTime'](Date['now']()-ll);this['sendAnalyticsData']('Live\x20Guided\x20Tour','End\x20Call','Guest:\x20'+ln+'\x20Duration:\x20'+lo['toUTCString']()['split']('\x20')[0x4]);}['bind'](this));}};TDV['Tour']['Script']['initQuiz']=function(lp,lq,lr){var ls={"question":{"window":{"paddingRight":20,"paddingTop":20,"backgroundColor":"#ffffff","shadowVerticalLength":0,"shadow":true,"width":"60%","buttonsContainer":{"verticalAlign":"bottom","horizontalAlign":"right","button":{"backgroundColor":"#000000","fontFamily":"Arial","fontWeight":"bold","paddingLeft":25,"backgroundOpacity":0.7,"horizontalAlign":"center","borderRadius":3,"fontSize":18,"verticalAlign":"middle","paddingTop":10,"fontColor":"#ffffff","paddingRight":25,"paddingBottom":10}},"shadowColor":"#000000","height":"60%","borderRadius":5,"shadowHorizontalLength":0,"shadowBlurRadius":4,"shadowSpread":4,"paddingLeft":20,"backgroundOpacity":1,"horizontalAlign":"center","shadowOpacity":0.3,"bodyContainer":{"height":"100%","gap":35,"paddingRight":30,"paddingLeft":30,"layout":"horizontal","paddingBottom":30,"width":"100%"},"mediaContainer":{"viewerArea":{"playbackBarHeadShadowHorizontalLength":0,"playbackBarRight":0,"playbackBarHeadBackgroundColor":"#cccccc","backgroundColor":"#e6e6e6","playbackBarHeadBorderRadius":7,"playbackBarHeadBorderSize":3,"playbackBarProgressOpacity":0.5,"playbackBarLeft":0,"playbackBarBorderRadius":0,"playbackBarHeadBorderColor":"#ffffff","playbackBarHeadWidth":14,"playbackBarProgressBackgroundColor":"#3399ff","playbackBarHeadShadowSpread":2,"playbackBarHeadOpacity":1,"playbackBarBorderSize":0,"playbackBarHeadShadow":true,"playbackBarHeadHeight":14,"backgroundOpacity":1,"playbackBarBackgroundColor":"#000000","playbackBarHeadShadowColor":"#000000","playbackBarHeadShadowVerticalLength":0,"playbackBarHeadShadowOpacity":0.3,"playbackBarHeight":6,"playbackBarBackgroundOpacity":0.5,"playbackBarHeadShadowBlurRadius":2,"playbackBarBottom":5},"height":"100%","buttonNext":{"height":37,"iconURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAjElEQVQokbXTyRaAIAgFUJHmeTL7/y9Naie+Toti2T0R4suYH4qI0HNKGpGV0iYwuoLFlEzeu0YT2dqH2jtFZHN3UR9T6FamKQi3O6Q+STL2O4r6WR4QcTZfdIQjR6NzttxUaKk2Eb/qdql34HfgbPA8eAdwb3jXD/eD7xTnAGcH5g1n9CHXBv8Ln9UJhXMPrAhUbYMAAAAASUVORK5CYII=","width":25},"buttonPrevious":{"height":37,"iconURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAkElEQVQokbXSyRaDIAwFUALOQ7W2iP//pQK6CGheF55mmXuYwlPqn0VEUp/uzPd0qAuFvqnsdKEInXVuziTCsDpfraYcxgi25MKh5rsxWHvDhMMIIJWf8EpAeei2CO/CJK8kXR2w5ED6E8B9m0zkNegc8W7ye8AM5LmBWYP/AX8KcgCyA/IGMqrkXJ92239aO3W4D6yL2ECSAAAAAElFTkSuQmCC","width":25},"width":"70%"},"closeButton":{"height":45,"width":45,"backgroundColor":"#009FE3","iconColor":"#FFFFFF","iconHeight":18,"iconWidth":18,"iconLineWidth":2},"title":{"paddingTop":25,"textAlign":"center","fontFamily":"Arial","fontWeight":"bold","fontColor":"#000000","paddingRight":50,"paddingLeft":50,"paddingBottom":40,"fontSize":20},"option":{"label":{"backgroundColor":"#000000","fontFamily":"Arial","fontWeight":"bold","correct":{"backgroundColor":"#39b54a","fontFamily":"Arial","fontWeight":"bold","backgroundOpacity":1,"horizontalAlign":"center","width":38,"fontSize":18,"verticalAlign":"middle","height":38,"borderRadius":19,"fontColor":"#ffffff","pressedBackgroundOpacity":1},"backgroundOpacity":0.2,"horizontalAlign":"center","width":38,"fontSize":18,"verticalAlign":"middle","height":38,"borderRadius":19,"fontColor":"#ffffff","pressedBackgroundOpacity":1,"incorrect":{"backgroundColor":"#ed1c24","fontFamily":"Arial","fontWeight":"bold","backgroundOpacity":1,"horizontalAlign":"center","width":38,"fontSize":18,"verticalAlign":"middle","height":38,"borderRadius":19,"fontColor":"#ffffff","pressedBackgroundOpacity":1}},"gap":10,"text":{"verticalAlign":"middle","paddingTop":9,"fontFamily":"Arial","fontSize":18,"fontColor":"#404040","selected":{"paddingTop":9,"textAlign":"left","fontFamily":"Arial","fontSize":18,"fontColor":"#000000"},"textAlign":"left"}},"optionsContainer":{"contentOpaque":true,"height":"100%","gap":10,"width":"30%","overflow":"scroll"},"paddingBottom":20,"minWidth":500},"veil":{"backgroundColor":"#000000","backgroundOpacity":0.3}},"timeout":{"window":{"title":{"textAlign":"center","fontFamily":"Arial","fontWeight":"bold","fontColor":"#000000","paddingBottom":20,"fontSize":40},"shadowBlurRadius":4,"shadowVerticalLength":0,"gap":15,"backgroundColor":"#ffffff","shadowColor":"#000000","horizontalAlign":"center","shadowSpread":4,"buttonsContainer":{"horizontalAlign":"center","width":"100%","gap":10},"shadowHorizontalLength":0,"paddingTop":45,"shadow":true,"paddingRight":80,"shadowOpacity":0.3,"paddingLeft":80,"paddingBottom":55,"icon":{"height":72,"url":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD0AAABGCAYAAAB/h5zrAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABhRJREFUeNrsW41y2jgQliVjGxMuhDR37/92l2uvhVIcjGtzuLO6aBRpdyVb9G4azWiABKH99n9XcibSj9V13geu6a7z7+scUhAkbwB6GbFmAVP8X0H/58Y76HfQ76DfQYeOLmLNGKq+pyIouxFzS3jNkZg9MucrvB8B96mIyW8EumV858L8XlLQC5DKqGqHSDX9WeMe6G+BdpZ6jwseDZsfIC0MBa6M7KqEzwr5/hlUu4P3MYzeXGdtfG6uc0eBtgGLQOAjqAo2nppKjnuejBkK2Ak8YwI2ifgTcVYrAJxi9ED80VOIrGH6xr/A8wDAvhBXwmZFYjtVsM8KgB8cAsOG1oCdCgCsw0pjMOAeprqhk8qA0bUV2jKGlo04lQLin5iJioJNxu9+uIF0qcSqhtcugPmLDNA//UppaA5c6lIW7RB+WtjHlYQooCUHOqqUKXJmqMrjzMA7cDinyLZPCV2XembMu8yykTmAn8GztjPa7grmVOmPIavJHBvontYooW0AEwYoGJqEIesh0HnuwPEWgKcTDm93MWz8An+rmNL9BK+pxgUYOjBp6g3QZ9PEFMHZLaP8HAn5bDApRHJ5hL13ILUlQZs0BPJmY994ZJSee1cVwxg1xPkV0HAKXD+Az6CAly5HKhGiCoaEj4wMSCIpofB4ZwkES0LinAOBe66kt8SGI/e+EJs9Qa5cA4FmJ6QytGgk+ptF0++gBePaF8R0BvjtmpFFdhjomviRnmHDo5TujFxAAvFmJ0UazsaU1p3hqDLY50zQY7akfBp3xDona0YYGBg2R33eIZHABQobB2DUApF2rcOpLekK1GqKHWtQujBpIX5zvXtvrD0ExP2OoF3q38oRB+PjKHc0ExKVmLW67PVhKLR9K4sTG4KQF8//1mCLF5GmXy3h97cgzbPHxHpC2j8cmrQ4gQ2fWq8AdAVEqZnBrsGbr+GzEnjvHOvhLW31LikOIZ7aLlf7GcDGFhlHRGMLG3RBxGVM7Ssmp+cAO0Am6BtUdVfmzMZaSzDk2WhIxNTOykhkqMLmM7FHTzRF8pyRgwtG9dQHqPRoDr8ZRPVMP7BnhkvBBZ0TMXeuCy+1w94UA8Au0GwwASw4B3jfGeUhR60lSNjWjoJwSntPo0MKf+MfZRBH0lg+q3vl48Z/EcALq8b9hEhf5+StpxgqjAzyo6fhQBbaMb2nylrPabS7HGPjcIwfEedZMJ0vCTrGZvsQlbL+X3pSX453PgY4WFS9Y1LHBkq/JdTDFGidOkqQ1h8Om+bk23tDC3z5Q8YBHfudY0AY0d3SjeEElaNg4IxTgClFSVoazmrq0N1M+9zpGNlrw6KK18xyZqG+EPM17/UBuz48THGtA5P0kDOzmIoAvQHn1CIdkSlZnB3ajkj+LQnQZ8n0hBVBTG20ZGqRZtRWORtD649wKZlFhUK4l4V4zgljQHpu3O5PZyclVMzzcffFsMsO6a5MHQfwBWfEhBSR1jYuqWwJ9XgWCW/yzTA2hKSf7R6ZzlmXRPjiHsHovtYCGBVy1lVBcZJDOOWsXQi8x3fWOUXuCCdYfatPHDjhyzzrLiG95MbYrQFeMSMC9ZxII5BC48BQIcnkPOZR9QMtFZEBcrLGFWHLPQW6IexWWXUxp9vSeACvxNsOamslLN8YzKWkfOCkaxfCoS0YHv8E9nhyaE9lVVqtxehGvF7j6Bg1fUaEqT0HdCdeL7BivS6sNWzeanDF9tqIuQeHs6Kcn76OQan/m1I1I36Uc6kOSwkphxXbQeXecDy4fBQmyYvg3e8ojIIkJCxdIkKZjiAPgnel80toCaYXSkEf+eTi9a5mqmcvJIC9Y6S6A/TgLjGgtZNRjH6U7qKUERUUJ8l5YPbE9L30XsS0VQJTPFfIakT8jcEF7LcU/MYl6yJ+aEUUCtwMX/oRBd+TOKVRMJQi/PST/chFTBlI3aD/GaOD0MQyqZiz5DPMStzuuS4qZO5CTCib6GA2It0zG5x2016EX7ybRVK3eobDtF3deo7q0M6pnqnBTwabsp+lxOsFODUDUDP0zTJSOyIFGqCfwssFfd+zN8Jbkmcv/xFgALaVsLLFsFFBAAAAAElFTkSuQmCC","width":62},"button":{"verticalAlign":"middle","paddingTop":12,"paddingBottom":12,"fontFamily":"Arial","fontSize":15,"backgroundColor":"#009fe3","paddingRight":25,"paddingLeft":25,"horizontalAlign":"center","fontWeight":"bold","fontColor":"#ffffff"}},"veil":{"backgroundColor":"#000000","backgroundOpacity":0.3}},"score":{"window":{"title":{"paddingTop":50,"textAlign":"center","fontFamily":"Arial","fontWeight":"bold","fontColor":"#000000","paddingBottom":15,"fontSize":50},"shadowBlurRadius":4,"shadowVerticalLength":0,"backgroundColor":"#ffffff","shadowColor":"#000000","buttonsContainer":{"verticalAlign":"middle","paddingTop":35,"horizontalAlign":"center","gap":8,"paddingRight":100,"paddingLeft":100,"paddingBottom":50,"width":"100%","button":{"verticalAlign":"middle","paddingTop":12,"paddingBottom":12,"fontFamily":"Arial","fontSize":15,"backgroundColor":"#009fe3","paddingRight":25,"paddingLeft":25,"horizontalAlign":"center","fontWeight":"bold","fontColor":"#ffffff"}},"maxWidth":1500,"horizontalAlign":"center","timeContainer":{"verticalAlign":"middle","paddingTop":10,"paddingBottom":15,"gap":5,"paddingRight":100,"paddingLeft":100,"horizontalAlign":"center","width":"100%"},"shadowSpread":4,"calification":{"verticalAlign":"middle","paddingTop":15,"paddingBottom":10,"fontFamily":"Arial","fontWeight":"bold","fontColor":"#009fe3","paddingRight":100,"paddingLeft":100,"textAlign":"center","width":"100%","fontSize":30},"shadowOpacity":0.3,"paddingTop":20,"statsContainer":{"verticalAlign":"middle","contentOpaque":true,"paddingTop":15,"paddingBottom":15,"gap":20,"overflow":"scroll","paddingRight":100,"paddingLeft":100,"horizontalAlign":"center"},"shadow":true,"stats":{"borderColor":"#009fe3","height":150,"label":{"fontWeight":"normal","fontFamily":"Arial","fontSize":15,"fontColor":"#000000"},"gap":0,"secondaryValue":{"fontWeight":"bold","paddingLeft":5,"fontFamily":"Arial","fontSize":20,"fontColor":"#000000"},"horizontalAlign":"center","borderRadius":75,"verticalAlign":"middle","borderSize":1,"title":{"paddingTop":10,"fontFamily":"Arial","fontWeight":"normal","fontColor":"#000000","paddingRight":5,"paddingLeft":5,"fontSize":20},"mainValue":{"fontWeight":"bold","fontFamily":"Arial","fontSize":40,"fontColor":"#000000"},"layout":"vertical","minWidth":150},"content":{"horizontalAlign":"center","width":"100%"},"closeButton":{"height":45,"width":45,"backgroundColor":"#009fe3","iconColor":"#ffffff","iconHeight":18,"iconWidth":18,"iconLineWidth":2},"paddingRight":20,"shadowHorizontalLength":0,"paddingLeft":20,"paddingBottom":20,"description":{"paddingTop":15,"textAlign":"center","fontFamily":"Arial","fontWeight":"normal","fontColor":"#000000","paddingRight":100,"paddingLeft":100,"paddingBottom":15,"fontSize":16},"minWidth":500},"veil":{"backgroundColor":"#000000","backgroundOpacity":0.3}}};var lt=this['get']('data');var lu=lt['createQuizConfig']['call'](this);lF['call'](this,lu);lu['playList']=lp;lu['player']=this;lu['theme']='theme'in lu?this['mixObject'](ls,lu['theme']):ls;if(lu['questions']){lE['call'](this,lu['questions']);for(var lv=0x0;lv<lu['questions']['length'];++lv){var lw=lu['questions'][lv];lE['call'](this,lw['options']);}}if(lu['objectives']){lE['call'](this,lu['objectives']);}if(lu['califications']){lE['call'](this,lu['califications']);}if(lu['score']){this[lu['score']['id']]=lu['score'];}if(lu['question']){this[lu['question']['id']]=lu['question'];}if(lu['timeout']){this[lu['timeout']['id']]=lu['timeout'];}var lx=lu['data']&&lu['data']['titlesScale']?lu['data']['titlesScale']:0x1;var ly=lu['data']&&lu['data']['bodyScale']?lu['data']['bodyScale']:0x1;if(this['get']('isMobile')){var lz=this['mixObject'](lu['theme'],{'question':{'window':{'width':'100%','height':'100%','minWidth':undefined,'backgroundOpacity':0x1,'borderRadius':0x0,'paddingLeft':0x0,'paddingRight':0x0,'paddingBottom':0x0,'paddingTop':0x0,'verticalAlign':'middle','title':{'paddingBottom':0x19,'paddingTop':0x19},'bodyContainer':{'layout':'vertical','horizontalAlign':'center','paddingLeft':0x0,'paddingRight':0x0,'gap':0x14},'mediaContainer':{'width':'100%','height':'45%'},'optionsContainer':{'width':'100%','height':'55%','paddingLeft':0x14,'paddingRight':0x14}}},'score':{'window':{'description':{'paddingLeft':0xa,'paddingRight':0xa},'calification':{'fontSize':0x14*ly,'paddingLeft':0xa,'paddingRight':0xa}}}});lu['theme']=lz;}var lA=document['getElementById']('metaViewport');var lB=lA?/initial-scale=(\d+(\.\d+)?)/['exec'](lA['getAttribute']('content')):undefined;var lC=lB?lB[0x1]:0x1;lt['scorePortraitConfig']={'theme':{'window':{'minWidth':0xfa/lC,'maxHeight':0x258/lC,'content':{'height':'100%'},'statsContainer':{'layout':'vertical','horizontalAlign':'center','maxHeight':0x258,'paddingLeft':0x0,'paddingRight':0x0,'width':'100%','height':'100%'},'buttonsContainer':{'paddingLeft':0xa,'paddingRight':0xa,'button':{'paddingLeft':0xf,'paddingRight':0xf}}}}};lt['scoreLandscapeConfig']={'theme':{'window':{'title':{'fontSize':0x1e*lx,'paddingTop':0xa},'stats':{'height':0x64},'buttonsContainer':{'paddingBottom':0x14,'paddingTop':0xa},'description':{'paddingBottom':0x5,'paddingTop':0x5}}}};var lD=new TDV['Quiz'](lu);lD['setMaxListeners'](0x32);if(lr===!![]){lD['bind'](TDV['Quiz']['EVENT_PROPERTIES_CHANGE'],function(){if((lD['get'](TDV['Quiz']['PROPERTY']['QUESTIONS_ANSWERED'])+lD['get'](TDV['Quiz']['PROPERTY']['ITEMS_FOUND']))/(lD['get'](TDV['Quiz']['PROPERTY']['QUESTION_COUNT'])+lD['get'](TDV['Quiz']['PROPERTY']['ITEM_COUNT']))==0x1)setTimeout(function(){lD['finish']();},0x0);}['bind'](this));}if(lq===!![]){lD['start']();}lt['quiz']=lD;lt['quizConfig']=lu;function lE(lG){for(var lH=0x0;lH<lG['length'];++lH){var lI=lG[lH];if('id'in lI)this[lI['id']]=lI;}}function lF(lJ){for(var lK in lJ){var lL=lJ[lK];if(typeof lL=='object'&&lL!==null)lF['call'](this,lL);else if(typeof lL=='string'&&lL['startsWith']('this.'))lJ[lK]=_getObject(this,lL);}}};TDV['Tour']['Script']['getQuizTotalObjectiveProperty']=function(lM){var lN=this['get']('data')['quiz'];var lO=this['get']('data')['quizConfig'];var lP=lO['objectives'];var lQ=0x0;for(var lR=0x0,lS=lP['length'];lR<lS;++lR){var lT=lP[lR];lQ+=lN['getObjective'](lT['id'],lM);}return lQ;};TDV['Tour']['Script']['_initSplitViewer']=function(lU){function lV(){var mj=lU['get']('actualWidth');m8['get']('children')[0x0]['set']('width',mj);m9['get']('children')[0x0]['set']('width',mj);var mk=mc['get']('left');var ml=typeof mk=='string'?lW(mk):mk;ml+=mc['get']('actualWidth')*0.5;m8['set']('width',lX(ml));m9['set']('width',lX(mj-ml));}function lW(mm){return parseFloat(mm['replace']('%',''))/0x64*lU['get']('actualWidth');}function lX(mn){return mn/lU['get']('actualWidth')*0x64+'%';}function lY(mo){lZ(mo['source']);}function lZ(mp){var mq=mp==me?md:me;if(mf&&mp!=mf||!mp||!mq)return;var mr=mp['get']('class');var ms=mq['get']('class');if(mr=='PanoramaPlayer'&&ms=='PanoramaPlayer'){var mt=mq['get']('camera')['get']('initialPosition')['get']('yaw')-mp['get']('camera')['get']('initialPosition')['get']('yaw');mq['setPosition'](mp['get']('yaw')+mt,mp['get']('pitch'),mp['get']('roll'),mp['get']('hfov'));}else if(mr=='Model3DPlayer'&&ms=='Model3DPlayer'){var mu=mp['get']('model')['get']('camera');var mv=mq['get']('model')['get']('camera');var mw=['yaw','pitch','x','y','z','fov'];if(mu['get']('class')=='OrbitModel3DCamera'&&mv['get']('class')=='OrbitModel3DCamera')mw['push']('distance');mw['forEach'](mx=>{mv['set'](mx,mu['get'](mx));});}}function m0(my){mf=my['source'];}function m1(mz){mf=md;}function m2(mA){m5['call'](this,mA['source']);}function m3(mB){var mC=mB['get']('viewerArea');if(mC==ma){if(md&&md['get']('class')=='PanoramaPlayer'){md['get']('camera')['set']('hoverFactor',mg);}md=mB;mf=md;if(md&&md['get']('class')=='PanoramaPlayer'){mg=md['get']('camera')['get']('hoverFactor');md['get']('camera')['set']('hoverFactor',0x0);}}else if(mC==mb){if(me&&me['get']('class')=='PanoramaPlayer'){me['get']('camera')['set']('hoverFactor',mh);}me=mB;mf=me;if(me&&me['get']('class')=='PanoramaPlayer'){mh=me['get']('camera')['get']('hoverFactor');me['get']('camera')['set']('hoverFactor',0x0);}}lZ(mB);}function m4(mD){var mE=this['getCurrentPlayers']();var mF=mE['length'];while(mF-->0x0){var mH=mE[mF];if(mH['get']('viewerArea')!=mD){mE['splice'](mF,0x1);}}for(mF=0x0;mF<mE['length'];++mF){var mH=mE[mF];mH['bind']('preloadMediaShow',m2,this);if(mH['get']('class')=='PanoramaPlayer'){mH['bind']('cameraPositionChange',lY,this);mH['bind']('userInteractionStart',m0,this);mH['bind']('userInteractionEnd',m1,this);}m5['call'](this,mH);}return mE;}function m5(mI){var mJ=mi['find'](mL=>{return mL['player']==mI;});if(mJ){if(mJ['media']['get']('class')=='Model3D'){mJ['media']['get']('camera')['unbind']('positionSet',mJ['updateFn'],this);}mi['splice'](mi['indexOf'](mJ),0x1);}var mK=this['getMediaFromPlayer'](mI);if(!mK)return;mJ={'media':mK,'player':mI,'updateFn':()=>{lZ(mI);}};mi['push'](mJ);if(mJ['media']['get']('class')=='Model3D'){mJ['media']['get']('camera')['bind']('positionSet',mJ['updateFn'],this);}m3(mI);}function m6(mM){m3(this['getActivePlayerWithViewer'](mM['source']));lZ(mf);}var m7=lU['get']('children');var m8=m7[0x0];var m9=m7[0x1];var ma=m8['get']('children')[0x0];var mb=m9['get']('children')[0x0];var mc=m7[0x2];var md,me,mf;var mg,mh;var mi=[];m4['call'](this,ma);m4['call'](this,mb);ma['bind']('mouseDown',m6,this);mb['bind']('mouseDown',m6,this);lU['bind']('resize',function(){mc['set']('left',(lU['get']('actualWidth')-mc['get']('actualWidth'))*0.5);lV();},this);mc['bind']('mouseDown',function(mN){var mO=mN['pageX'];var mP=function(mQ){var mR=mQ['pageX'];var mS=mO-mR;var mT=lU['get']('actualWidth');var mU=mc['get']('left');var mV=(typeof mU=='string'?lW(mU):mU)-mS;if(mV<0x0){mR-=mV;mV=0x0;}else if(mV+mc['get']('actualWidth')>=mT){mR-=mV-(mT-mc['get']('actualWidth'));mV=mT-mc['get']('actualWidth');}mc['set']('left',mV);lV();mO=mR;};this['bind']('mouseMove',mP,this);this['bind']('mouseUp',function(){this['unbind']('mouseMove',mP,this);},this);},this);lV();};TDV['Tour']['Script']['_initTwinsViewer']=function(mW){function mX(){var nl=mW['get']('actualWidth');na['get']('children')[0x0]['set']('width',nl);nb['get']('children')[0x0]['set']('width',nl);var nm=ne['get']('left');var nn=typeof nm=='string'?mY(nm):nm;nn+=ne['get']('actualWidth')*0.5;na['set']('width',mZ(nn));nb['set']('width',mZ(nl-nn));}function mY(no){return parseFloat(no['replace']('%',''))/0x64*mW['get']('actualWidth');}function mZ(np){return np/mW['get']('actualWidth')*0x64+'%';}function n0(nq){n1(nq['source']);}function n1(nr){var ns=nr==ng?nf:ng;if(nh&&nr!=nh||!nr||!ns)return;var nt=nr['get']('class');var nu=ns['get']('class');if(nt=='PanoramaPlayer'&&nu=='PanoramaPlayer'){var nv=ns['get']('camera')['get']('initialPosition')['get']('yaw')-nr['get']('camera')['get']('initialPosition')['get']('yaw');ns['setPosition'](nr['get']('yaw')+nv,nr['get']('pitch'),nr['get']('roll'),nr['get']('hfov'));}else if(nt=='Model3DPlayer'&&nu=='Model3DPlayer'){var nw=nr['get']('model')['get']('camera');var nx=ns['get']('model')['get']('camera');var ny=['yaw','pitch','x','y','z','fov'];if(nw['get']('class')=='OrbitModel3DCamera'&&nx['get']('class')=='OrbitModel3DCamera')ny['push']('distance');ny['forEach'](nz=>{nx['set'](nz,nw['get'](nz));});}}function n2(nA){nh=nA['source'];}function n3(nB){nh=nf;}function n4(nC){n7['call'](this,nC['source']);}function n5(nD){var nE=nD['get']('viewerArea');if(nE==nc){if(nf&&nf['get']('class')=='PanoramaPlayer'){nf['get']('camera')['set']('hoverFactor',ni);}nf=nD;nh=nf;if(nf&&nf['get']('class')=='PanoramaPlayer'){ni=nf['get']('camera')['get']('hoverFactor');nf['get']('camera')['set']('hoverFactor',0x0);}}else if(nE==nd){if(ng&&ng['get']('class')=='PanoramaPlayer'){ng['get']('camera')['set']('hoverFactor',nj);}ng=nD;nh=ng;if(ng&&ng['get']('class')=='PanoramaPlayer'){nj=ng['get']('camera')['get']('hoverFactor');ng['get']('camera')['set']('hoverFactor',0x0);}}n1(nD);}function n6(nF){var nG=this['getCurrentPlayers']();var nH=nG['length'];while(nH-->0x0){var nJ=nG[nH];if(nJ['get']('viewerArea')!=nF){nG['splice'](nH,0x1);}}for(nH=0x0;nH<nG['length'];++nH){var nJ=nG[nH];nJ['bind']('preloadMediaShow',n4,this);if(nJ['get']('class')=='PanoramaPlayer'){nJ['bind']('cameraPositionChange',n0,this);nJ['bind']('userInteractionStart',n2,this);nJ['bind']('userInteractionEnd',n3,this);}n7['call'](this,nJ);}return nG;}function n7(nK){var nL=nk['find'](nN=>{return nN['player']==nK;});if(nL){if(nL['media']['get']('class')=='Model3D'){nL['media']['get']('camera')['unbind']('positionSet',nL['updateFn'],this);}nk['splice'](nk['indexOf'](nL),0x1);}var nM=this['getMediaFromPlayer'](nK);if(!nM)return;nL={'media':nM,'player':nK,'updateFn':()=>{n1(nK);}};nk['push'](nL);if(nL['media']['get']('class')=='Model3D'){nL['media']['get']('camera')['bind']('positionSet',nL['updateFn'],this);}n5(nK);}function n8(nO){n5(this['getActivePlayerWithViewer'](nO['source']));n1(nh);}var n9=mW['get']('children');var na=n9[0x0];var nb=n9[0x1];var nc=na['get']('children')[0x0];var nd=nb['get']('children')[0x0];var ne=n9[0x2];var nf,ng,nh;var ni,nj;var nk=[];n6['call'](this,nc);n6['call'](this,nd);nc['bind']('mouseDown',n8,this);nd['bind']('mouseDown',n8,this);mW['bind']('resize',function(){ne['set']('left',(mW['get']('actualWidth')-ne['get']('actualWidth'))*0.5);mX();},this);mX();};TDV['Tour']['Script']['isCardboardViewMode']=function(){var nP=this['getByClassName']('PanoramaPlayer');return nP['length']>0x0&&nP[0x0]['get']('viewMode')=='cardboard';};TDV['Tour']['Script']['isPanorama']=function(nQ){return['Panorama','HDRPanorama','LivePanorama','Video360','VideoPanorama']['indexOf'](nQ['get']('class'))!=-0x1;};TDV['Tour']['Script']['keepCompVisible']=function(nR,nS){var nT='keepVisibility_'+nR['get']('id');var nU=this['getKey'](nT);if(nU==undefined&&nS){this['registerKey'](nT,nS);}else if(nU!=undefined&&!nS){this['unregisterKey'](nT);}};TDV['Tour']['Script']['_initItemWithComps']=function(nV,nW,nX,nY,nZ,o0,o1,o2){var o3=nV['get']('items')[nW];var o4=o3['get']('media');var o5=o4['get']('loop')==undefined||o4['get']('loop');var o6=o2>0x0;var o7=this['rootPlayer'];var o8=function(og){var oh=o0?o0['get']('class'):undefined;var oi=undefined;switch(oh){case'FadeInEffect':case'FadeOutEffect':oi=o7['createInstance'](og?'FadeInEffect':'FadeOutEffect');break;case'SlideInEffect':case'SlideOutEffect':oi=o7['createInstance'](og?'SlideInEffect':'SlideOutEffect');break;}if(oi){oi['set']('duration',o0['get']('duration'));oi['set']('easing',o0['get']('easing'));if(oh['indexOf']('Slide')!=-0x1)oi['set'](og?'from':'to',o0['get'](o0['get']('class')=='SlideInEffect'?'from':'to'));}return oi;};var o9=function(){for(var oj=0x0,ok=nX['length'];oj<ok;++oj){var ol=nX[oj];if(o2>0x0){this['setComponentVisibility'](ol,!nZ,0x0,o8(!nZ));}else{var om='visibility_'+ol['get']('id');if(this['existsKey'](om)){if(this['getKey'](om))this['setComponentVisibility'](ol,!![],0x0,o8(!![]));else this['setComponentVisibility'](ol,![],0x0,o8(![]));this['unregisterKey'](om);}}}o3['unbind']('end',o9,this);if(!o5)o4['unbind']('end',o9,this);};var oa=function(){o3['unbind']('stop',oa,this,!![]);o3['unbind']('stop',oa,this);o3['unbind']('begin',oa,this,!![]);o3['unbind']('begin',oa,this);for(var on=0x0,oo=nX['length'];on<oo;++on){this['keepCompVisible'](nX[on],![]);}};var ob=function(op,oq,or){var os=function(){var ot=function(ox,oy,oz){o7['setComponentVisibility'](ox,oy,oq,oz,oy?'showEffect':'hideEffect',![]);if(or>0x0){var oA=oq+or+(oz!=undefined?oz['get']('duration'):0x0);o7['setComponentVisibility'](ox,!oy,oA,o8(!oy),oy?'hideEffect':'showEffect',!![]);}};for(var ou=0x0,ov=nX['length'];ou<ov;++ou){var ow=nX[ou];if(nZ=='toggle'){if(!ow['get']('visible'))ot(ow,!![],o8(!![]));else ot(ow,![],o8(![]));}else{ot(ow,nZ,o8(nZ));}}o3['unbind'](op,os,this);if(op=='end'&&!o5)o4['unbind'](op,os,this);};o3['bind'](op,os,this);if(op=='end'&&!o5)o4['bind'](op,os,this);};if(nY=='begin'){for(var oc=0x0,od=nX['length'];oc<od;++oc){var oe=nX[oc];this['keepCompVisible'](oe,!![]);if(o6){var of='visibility_'+oe['get']('id');this['registerKey'](of,oe['get']('visible'));}}o3['bind']('stop',oa,this,!![]);o3['bind']('stop',oa,this);o3['bind']('begin',oa,this,!![]);o3['bind']('begin',oa,this);if(o6){o3['bind']('end',o9,this);if(!o5)o4['bind']('end',o9,this);}}else if(nY=='end'&&o2>0x0){ob('begin',o2,0x0);o2=0x0;}if(nY!=undefined)ob(nY,o1,o2);};TDV['Tour']['Script']['loadFromCurrentMediaPlayList']=function(oB,oC,oD){var oE=oB['get']('selectedIndex');var oF=oB['get']('items')['length'];var oG=(oE+oC)%oF;while(oG<0x0){oG=oF+oG;}if(oE!=oG){if(oD){var oH=oB['get']('items')[oG];this['skip3DTransitionOnce'](oH['get']('player'));}oB['set']('selectedIndex',oG);}};TDV['Tour']['Script']['mixObject']=function(oI,oJ){return this['assignObjRecursively'](oJ,this['copyObjRecursively'](oI));};TDV['Tour']['Script']['downloadFile']=function(oK){if((navigator['userAgent']['toLowerCase']()['indexOf']('chrome')>-0x1||navigator['userAgent']['toLowerCase']()['indexOf']('safari')>-0x1)&&!/(iP)/g['test'](navigator['userAgent'])){var oL=document['createElement']('a');oL['href']=oK;oL['setAttribute']('target','_blank');if(oL['download']!==undefined){var oM=oK['substring'](oK['lastIndexOf']('/')+0x1,oK['length']);oL['download']=oM;}if(document['createEvent']){var oN=document['createEvent']('MouseEvents');oN['initEvent']('click',!![],!![]);oL['dispatchEvent'](oN);return;}}window['open'](oK,'_blank');};TDV['Tour']['Script']['openLink']=function(oO,oP){if(!oO||oO==location['href']){return;}if(!oP)oP='_blank';if(oP=='_top'||oP=='_self'){this['updateDeepLink']({'includeCurrentView':!![],'includeCurrentVisibleHotspots':!![],'includeCurrentMeasureModel3DObjects':!![],'setHash':!![]});}var oQ=window&&window['process']&&window['process']['versions']&&window['process']['versions']['electron']||navigator&&navigator['userAgent']&&navigator['userAgent']['indexOf']('Electron')>=0x0;if(oQ&&oP=='_blank'){if(oO['startsWith']('files/')){oO='/'+oO;}if(oO['startsWith']('//')){oO='https:'+oO;}else if(oO['startsWith']('/')){var oR=window['location']['href']['split']('/');oR['pop']();oO=oR['join']('/')+oO;}var oS=oO['split']('.')['pop']()['toLowerCase']();if((['pdf','zip','xls','xlsx']['indexOf'](oS)==-0x1||oO['startsWith']('file://'))&&window['hasOwnProperty']('require')){var oT=window['require']('electron')['shell'];oT['openExternal'](oO);}else{window['open'](oO,oP);}}else if(oQ&&(oP=='_top'||oP=='_self')){window['location']=oO;}else{var oU=this['get']('data')['tour'];if(oU['isMobileApp']()&&oU['isIOS']())oO='blank:'+oO;var oV=window['open'](oO,oP);oV['focus']();}};TDV['Tour']['Script']['startPanoramaWithModel']=function(oW,oX){var oY=oW['get']('media');var oZ=_findLocationWithPanorama['call'](this,oY);if(!oZ){oX['call'](this);return;}var p0=oZ['get']('model');var p1=oW['get']('player')['get']('viewerArea');var p3=this['getActivePlayersWithViewer'](p1);var p5=p3['length']==0x1?p3['find'](function(pc){return this['getMediaFromPlayer'](pc)==p0;}['bind'](this)):undefined;if(p5){oX['call'](this);}else{var p3=_getPlayersWithViewer['call'](this,p1);var p5=p3['find'](function(pd){return pd['get']('class')=='Model3DPlayer';});var p6,p7;if(!p5){p5=this['createInstance']('Model3DPlayer');p5['set']('viewerArea',p1);}else{var p8=this['getByClassName']('Model3DPlayListItem');p6=p8['find'](function(pe){return pe['get']('player')==p5;}['bind'](this));}if(!p6){p6=this['createInstance']('Model3DPlayListItem');p6['set']('player',p5);_initModel3DItem['call'](this,p6);}p6['set']('media',p0);var p9=oZ['get']('forceModelLoading');oZ['set']('forceModelLoading',!![]);var pa=function(){p6['unbind']('begin',pa,this);oX['call'](this);};var pb=function(){oW['unbind']('begin',pb,this);oZ['set']('forceModelLoading',p9);if(p7)this['disposeInstance'](p7);};oW['bind']('begin',pb,this);if(p6['get']('state')=='playing')pa['call'](this);else{p6['bind']('begin',pa,this);p7=this['createInstance']('PlayList');p7['set']('items',[p6]);p7['set']('selectedIndex',0x0);}}};TDV['Tour']['Script']['pauseCurrentPlayers']=function(pf){var pg=this['getCurrentPlayers']();var ph=pg['length'];while(ph-->0x0){var pi=pg[ph];if(pi['get']('state')=='playing'||pi['get']('data')&&pi['get']('data')['playing']||pi['get']('viewerArea')&&pi['get']('viewerArea')['get']('id')==this['getMainViewer']()||pi['get']('camera')&&pi['get']('camera')['get']('idleSequence')&&pi['get']('camera')['get']('timeToIdle')>0x0&&pi['get']('state')=='playing'||pi['get']('class')=='Model3DPlayer'&&pi['get']('model')&&pi['get']('model')['get']('camera')['get']('state')=='playing'){var pj=this['getMediaFromPlayer'](pi);if(pf&&pj&&pj['get']('class')!='Video360'&&'pauseCamera'in pi){pi['pauseCamera']();}else{pi['pause']();}}else{pg['splice'](ph,0x1);}}return pg;};TDV['Tour']['Script']['pauseGlobalAudiosWhilePlayItem']=function(pk,pl,pm){var pn=function(){if(pk['get']('selectedIndex')!=pl){this['resumeGlobalAudios']();}};this['pauseGlobalAudios'](pm,!![]);this['executeFunctionWhenChange'](pk,pl,pn,pn);};TDV['Tour']['Script']['pauseGlobalAudios']=function(po,pp){this['stopTextToSpeech']();if(window['pausedAudiosLIFO']==undefined)window['pausedAudiosLIFO']=[];var pq=this['getByClassName']('VideoPanoramaOverlay');pq=pq['concat'](this['getByClassName']('QuadVideoPanoramaOverlay'));for(var ps=pq['length']-0x1;ps>=0x0;--ps){var pt=pq[ps];if(pt['get']('video')['get']('hasAudio')==![])pq['splice'](ps,0x1);}var pu=this['getByClassName']('Audio')['concat'](pq);var pv={};if(window['currentGlobalAudios']!=undefined)pu=pu['concat'](Object['values'](window['currentGlobalAudios'])['map'](function(pz){if(!pz['allowResume'])pv[pz['audio']['get']('id')]=pz['audio'];return pz['audio'];}));var pw=[];for(var ps=0x0,px=pu['length'];ps<px;++ps){var py=pu[ps];if(py&&py['get']('state')=='playing'&&(po==undefined||po['indexOf'](py)==-0x1)){if(py['get']('id')in pv){py['stop']();}else{py['pause']();pw['push'](py);}}}if(pp||pw['length']>0x0)window['pausedAudiosLIFO']['push'](pw);return pw;};TDV['Tour']['Script']['resumeGlobalAudios']=function(){if(window['pausedAudiosLIFO']==undefined)return;if(window['resumeAudiosBlocked']){if(window['pausedAudiosLIFO']['length']>0x1){window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x2]=window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x2]['concat'](window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x1]);window['pausedAudiosLIFO']['splice'](window['pausedAudiosLIFO']['length']-0x1,0x1);}return;}var pA=window['pausedAudiosLIFO']['pop']();if(!pA)return;for(var pB=0x0,pC=pA['length'];pB<pC;++pB){var pD=pA[pB];if(pD['get']('state')=='paused')pD['play']();}};TDV['Tour']['Script']['pauseGlobalAudio']=function(pE){var pF=window['currentGlobalAudios'];if(pF){var pG=pF[pE['get']('id')];if(pG)pE=pG['audio'];}if(pE['get']('state')=='playing')pE['pause']();};TDV['Tour']['Script']['playAudioList']=function(pH,pI){if(pH['length']==0x0)return;if(pH['length']==0x1&&pI){var pJ=pH[0x0];pJ['set']('loop',!![]);this['playGlobalAudio'](pJ,!![],null,!![]);}else{var pK=-0x1;var pL;var pM=this['playGlobalAudio'];var pN=function(){if(++pK>=pH['length']){if(!pI)return;pK=0x0;}pL=pH[pK];pM(pL,!![],pN,!![]);};pN();}};TDV['Tour']['Script']['playGlobalAudioWhilePlayActiveMedia']=function(pO,pP,pQ,pR){var pS=this['getActiveMediaWithViewer'](this['getMainViewer']());var pT=this['getFirstPlayListWithMedia'](pS,!![]);var pU=this['getPlayListItemByMedia'](pT,pS);var pV=pT['get']('items')['indexOf'](pU);return this['playGlobalAudioWhilePlay'](pT,pV,pO,pP,pQ,pR);};TDV['Tour']['Script']['playGlobalAudioWhilePlay']=function(pW,pX,pY,pZ,q0,q1){var q2=function(qb){if(qb['data']['previousSelectedIndex']==pX){this['stopGlobalAudio'](pY);if(q6){var qc=q5['get']('media');var qd=qc['get']('audios');qd['splice'](qd['indexOf'](pY),0x1);qc['set']('audios',qd);}pW['unbind']('change',q2,this);if(q0)q0();}};var q4=window['currentGlobalAudios'];if(q4&&pY['get']('id')in q4){pY=q4[pY['get']('id')]['audio'];if(pY['get']('state')!='playing'){pY['play']();}return pY;}pW['bind']('change',q2,this);var q5=pW['get']('items')[pX];var q6=q5['get']('class')=='PanoramaPlayListItem';if(q6){var q7=q5['get']('media');var q4=(q7['get']('audios')||[])['slice']();if(pY['get']('class')=='MediaAudio'){var q8=this['rootPlayer']['createInstance']('PanoramaAudio');q8['set']('autoplay',![]);q8['set']('audio',pY['get']('audio'));q8['set']('loop',pY['get']('loop'));q8['set']('id',pY['get']('id'));this['cloneBindings'](pY,q8,'start');this['cloneBindings'](pY,q8,'end');this['cloneBindings'](pY,q8,'stateChange');pY=q8;}q4['push'](pY);q7['set']('audios',q4);}var q9=this['playGlobalAudio'](pY,pZ,function(){pW['unbind']('change',q2,this);if(q0)q0['call'](this);});if(q1===!![]){var qa=function(){if(q9['get']('state')=='playing'){this['pauseGlobalAudios']([q9],!![]);}else if(q9['get']('state')=='stopped'){this['resumeGlobalAudios']();q9['unbind']('stateChange',qa,this);}};q9['bind']('stateChange',qa,this);}return q9;};TDV['Tour']['Script']['playGlobalAudio']=function(qe,qf,qg,qh){var qi=function(){qe['unbind']('end',qi,this);this['stopGlobalAudio'](qe);if(qg)qg['call'](this);};qe=this['getGlobalAudio'](qe);var qj=window['currentGlobalAudios'];if(!qj){qj=window['currentGlobalAudios']={};}qj[qe['get']('id')]={'audio':qe,'asBackground':qh||![],'allowResume':qf};if(qe['get']('state')=='playing'){return qe;}if(!qe['get']('loop')){qe['bind']('end',qi,this);}qe['play']();return qe;};TDV['Tour']['Script']['restartTourWithoutInteraction']=function(qk){var ql=-0x1;this['bind']('userInteraction',qm['bind'](this),this);qm();function qm(){if(ql!=-0x1)clearTimeout(ql);ql=setTimeout(function(){var qn=this['get']('data')['tour'];if(qn){if(this['isCardboardViewMode']())location['reload']();else qn['reload']();}}['bind'](this),qk*0x3e8);}};TDV['Tour']['Script']['resumePlayers']=function(qo,qp){for(var qq=0x0;qq<qo['length'];++qq){var qr=qo[qq];var qs=this['getMediaFromPlayer'](qr);if(!qs)continue;if(qp&&qs['get']('class')!='Video360'&&'pauseCamera'in qr){qr['resumeCamera']();}else if(qr['get']('state')!='playing'){var qt=qr['get']('data');if(!qt){qt={};qr['set']('data',qt);}qt['playing']=!![];var qu=function(){if(qr['get']('state')=='playing'){delete qt['playing'];qr['unbind']('stateChange',qu,this);}};qr['bind']('stateChange',qu,this);qr['play']();}}};TDV['Tour']['Script']['stopGlobalAudios']=function(qv){var qw=window['currentGlobalAudios'];var qx=this;if(qw){Object['keys'](qw)['forEach'](function(qy){var qz=qw[qy];if(!qv||qv&&!qz['asBackground']){qx['stopGlobalAudio'](qz['audio']);}});}};TDV['Tour']['Script']['stopGlobalAudio']=function(qA){var qB=window['currentGlobalAudios'];if(qB){var qC=qB[qA['get']('id')];if(qC){qA=qC['audio'];delete qB[qA['get']('id')];if(Object['keys'](qB)['length']==0x0){window['currentGlobalAudios']=undefined;}}}if(qA)qA['stop']();};TDV['Tour']['Script']['setCameraSameSpotAsMedia']=function(qD,qE){var qF=this['getCurrentPlayerWithMedia'](qE);if(qF!=undefined){var qG=qD['get']('initialPosition');qG['set']('yaw',qF['get']('yaw'));qG['set']('pitch',qF['get']('pitch'));qG['set']('hfov',qF['get']('hfov'));}};TDV['Tour']['Script']['setComponentVisibility']=function(qH,qI,qJ,qK,qL,qM){var qN=this['getKey']('keepVisibility_'+qH['get']('id'));if(qN)return;this['unregisterKey']('visibility_'+qH['get']('id'));var qO=function(){if(qL){qH['set'](qL,qK);}qH['set']('visible',qI);if(qH['get']('class')=='ViewerArea'){try{if(qI)qH['restart']();else if(qH['get']('playbackState')=='playing')qH['pause']();}catch(qT){};}};var qP='effectTimeout_'+qH['get']('id');if(!qM&&window['hasOwnProperty'](qP)){var qR=window[qP];if(qR instanceof Array){for(var qS=0x0;qS<qR['length'];qS++){clearTimeout(qR[qS]);}}else{clearTimeout(qR);}delete window[qP];}else if(qI==qH['get']('visible')&&!qM)return;if(qJ&&qJ>0x0){var qR=setTimeout(function(){if(window[qP]instanceof Array){var qU=window[qP];var qV=qU['indexOf'](qR);qU['splice'](qV,0x1);if(qU['length']==0x0){delete window[qP];}}else{delete window[qP];}qO();},qJ);if(window['hasOwnProperty'](qP)){window[qP]=[window[qP],qR];}else{window[qP]=qR;}}else{qO();}};TDV['Tour']['Script']['setDirectionalPanoramaAudio']=function(qW,qX,qY,qZ){qW['set']('yaw',qX);qW['set']('pitch',qY);qW['set']('maximumAngle',qZ);};TDV['Tour']['Script']['setLocale']=function(r0){this['stopTextToSpeech']();var r1=this['get']('data')['localeManager'];if(r1)this['get']('data')['localeManager']['setLocale'](r0);else{this['get']('data')['defaultLocale']=r0;this['get']('data')['forceDefaultLocale']=!![];}};TDV['Tour']['Script']['setEndToItemIndex']=function(r2,r3,r4){var r5=function(){if(r2['get']('selectedIndex')==r3){var r6=r2['get']('items')[r4];this['skip3DTransitionOnce'](r6['get']('player'));r2['set']('selectedIndex',r4);}};this['executeFunctionWhenChange'](r2,r3,r5);};TDV['Tour']['Script']['setMapLocation']=function(r7,r8){var r9=function(){r7['unbind']('stop',r9,this);ra['set']('mapPlayer',null);};r7['bind']('stop',r9,this);var ra=r7['get']('player');ra['set']('mapPlayer',r8);};TDV['Tour']['Script']['setMainMediaByIndex']=function(rb){var rc=undefined;if(rb>=0x0&&rb<this['mainPlayList']['get']('items')['length']){rc=this['mainPlayList']['get']('items')[rb];var rd=rc['get']('media');var re=rd['get']('class')['indexOf']('Panorama')!=-0x1?_findLocationWithPanorama['call'](this,rd):null;if(re){this['startPanoramaWithModel']['call'](this,rc,function(){this['mainPlayList']['set']('selectedIndex',rb);}['bind'](this));}else{this['mainPlayList']['set']('selectedIndex',rb);}}return rc;};TDV['Tour']['Script']['setMainMediaByName']=function(rf){var rg=this['getMainViewer']();var rh=this['_getPlayListsWithViewer'](rg);for(var ri=0x0,rj=rh['length'];ri<rj;++ri){var rk=rh[ri];var rl=rk['get']('items');for(var rm=0x0,rn=rl['length'];rm<rn;++rm){var ro=rl[rm];var rp=ro['get']('media')['get']('data');if(rp!==undefined&&rp['label']==rf&&ro['get']('player')['get']('viewerArea')==rg){rk['set']('selectedIndex',rm);return ro;}}}};TDV['Tour']['Script']['executeAudioAction']=function(rq,rr,rs,rt,ru,rv){if(rq['length']==0x0)return;var rw,rx;var ry=this['getMainViewer']();if(rs&&!(rs===!![])){var rz=this['getPlayListsWithMedia'](rs);for(var rA=0x0;rA<rz['length'];++rA){var rB=rz[rA];var rD=this['getPlayListItemByMedia'](rB,rs);if(rD&&rD['get']('player')&&rD['get']('player')['get']('viewerArea')==ry){rw=rB;rx=rw['get']('items')['indexOf'](rD);break;}}if(!rw&&rz['length']>0x0){rw=rz[0x0];rx=this['getPlayListItemIndexByMedia'](rw,rs);}if(!rw)rs=!![];}if(rs===!![]){var rE=this['getActiveMediaWithViewer'](ry);if(rE){rw=this['getFirstPlayListWithMedia'](rE,!![]);var rD=this['getPlayListItemByMedia'](rw,rE);rx=rw['get']('items')['indexOf'](rD);}else{rs=null;}}var rF=[];var rG=function(){var rO=rF['concat']();var rP=![];var rQ=function(rT){var rU=rT['source']['get']('state');if(rU=='playing'){if(!rP){rP=!![];this['pauseGlobalAudios'](rF,!![]);}}else if(rU=='stopped'){rO['splice'](rO['indexOf'](rT['source']),0x1);if(rO['length']==0x0){this['resumeGlobalAudios']();}rT['source']['unbind']('stateChange',rQ,this);}}['bind'](this);for(var rR=0x0,rS=rF['length'];rR<rS;++rR){rF[rR]['bind']('stateChange',rQ,this);}}['bind'](this);var rH=function(){for(var rV=0x0,rW=rq['length'];rV<rW;++rV){var rX=rq[rV];rF['push'](this['playGlobalAudio'](rX,rt));}if(ru)rG();}['bind'](this);var rI=function(){for(var rY=0x0,rZ=rq['length'];rY<rZ;++rY){var s0=rq[rY];rF['push'](this['playGlobalAudioWhilePlay'](rw,rx,s0,rt));}if(ru)rG();}['bind'](this);var rJ=function(){for(var s1=0x0,s2=rq['length'];s1<s2;++s1){this['pauseGlobalAudio'](rq[s1]);}}['bind'](this);var rK=function(){for(var s3=0x0,s4=rq['length'];s3<s4;++s3){this['stopGlobalAudio'](rq[s3]);}}['bind'](this);var rL=function(){for(var s5=0x0,s6=rq['length'];s5<s6;++s5){if(this['getGlobalAudio'](rq[s5])['get']('state')=='playing')return!![];}return![];}['bind'](this);if(rr=='playPause'||rr=='playStop'){if(rL()){if(rr=='playPause'){rJ();}else if(rr=='playStop'){rK();}}else{if(ru){if(rr=='playStop'){this['stopGlobalAudios'](!![]);}}if(rw){rI();}else{rH();}}}else if(rr=='play'||rr=='forcePlay'){if(rr=='forcePlay')rK();if(rw||rs===!![]){if(rv){var rM=rw?rw['get']('items')[rx]['get']('player'):this['getActivePlayerWithViewer'](this['getMainViewer']());if(rM&&rM['pauseCamera']){var rN=rq['concat']();endCallback=function(s7){rN['splice'](rN['indexOf'](s7),0x1);if(rN['length']==0x0)rM['resumeCamera']();}['bind'](this);rM['pauseCamera']();}}rI();}else{rH();}}else if(rr=='stop'){rK();}else if(rr=='pause'){rJ();}};TDV['Tour']['Script']['executeAudioActionByTags']=function(s8,s9,sa,sb,sc,sd,se){var sf=this['getAudioByTags'](s8,s9);this['executeAudioAction'](sf,sa,sb,sc,sd,se);};TDV['Tour']['Script']['setPlayListSelectedIndex']=function(sg,sh){var si=sg['get']('items')[sh];var sj=si['get']('player');var sk=sj['get']('viewerArea');var sl=this['getByClassName']('PlayList');for(var sm of sl){if(sm==sg)continue;var sn=sm['get']('selectedIndex');if(sn!=-0x1){var so=sm['get']('items')[sn];var sp=so['get']('player');if(sp&&sp!=sj&&sp['get']('class')!='Model3DPlayer'&&sp['get']('viewerArea')==sk)sm['set']('selectedIndex',-0x1);}}sg['set']('selectedIndex',sh);};TDV['Tour']['Script']['setMediaBehaviour']=function(sq,sr,ss,st){var su=this;var sv=function(sS){if(sS['data']['state']=='stopped'&&st){sz['call'](this,!![]);}};var sw=function(){sF['unbind']('begin',sw,su);var sT=sF['get']('media');var sU=sT['get']('class');if(sU!='Panorama'&&sU!='Model3D'||sT['get']('camera')!=undefined&&sT['get']('camera')['get']('initialSequence')!=undefined){sG['bind']('stateChange',sv,su);}};var sx=function(){var sV=sC['get']('selectedIndex');if(sV!=-0x1){sE=sV;sz['call'](this,![]);}};var sy=function(){sz['call'](this,![]);};var sz=function(sW){if(!sC)return;var sX=sF['get']('media');if((sX['get']('class')=='Video360'||sX['get']('class')=='Video')&&sX['get']('loop')==!![]&&!sW)return;sq['set']('selectedIndex',-0x1);if(sN&&sM!=-0x1){if(sN){if(sM>0x0&&sN['get']('movements')[sM-0x1]['get']('class')=='TargetPanoramaCameraMovement'){var sY=sO['get']('initialPosition');var sZ=sY['get']('yaw');var t0=sY['get']('pitch');var t1=sY['get']('hfov');var t2=sN['get']('movements')[sM-0x1];var t3=t2['get']('targetYaw');var t4=t2['get']('targetPitch');var t5=t2['get']('targetHfov');if(t3!==undefined)sY['set']('yaw',t3);if(t4!==undefined)sY['set']('pitch',t4);if(t5!==undefined)sY['set']('hfov',t5);var t6=function(t9){sY['set']('yaw',sZ);sY['set']('pitch',t0);sY['set']('hfov',t1);sI['unbind']('end',t6,this);};sI['bind']('end',t6,this);}sN['set']('movementIndex',sM);}}if(sG){sF['unbind']('begin',sw,this);sG['unbind']('stateChange',sv,this);for(var t7=0x0;t7<sP['length'];++t7){sP[t7]['unbind']('click',sy,this);}}if(sL){var t8=this['getMediaFromPlayer'](sG);if((sC==this['mainPlayList']||sC['get']('items')['length']>0x1)&&(t8==undefined||t8==sF['get']('media'))){sC['set']('selectedIndex',sE);}if(sq!=sC)sC['unbind']('change',sx,this);}else{sJ['set']('visible',sK);}sC=undefined;};if(!ss){var sA=sq['get']('selectedIndex');var sB=sA!=-0x1?sq['get']('items')[sq['get']('selectedIndex')]['get']('player'):this['getActivePlayerWithViewer'](this['getMainViewer']());if(sB){ss=this['getMediaFromPlayer'](sB);}}var sC=undefined;if(ss){var sD=this['getPlayListsWithMedia'](ss,!![]);if(sD['indexOf'](sq)!=-0x1){sC=sq;}else if(sD['indexOf'](this['mainPlayList'])!=-0x1){sC=this['mainPlayList'];}else if(sD['length']>0x0){sC=sD[0x0];}}if(!sC){sq['set']('selectedIndex',sr);return;}var sE=sC['get']('selectedIndex');var sF=sq['get']('items')[sr];var sG=sF['get']('player');var sH=this['getMediaFromPlayer'](sG);if(sq['get']('selectedIndex')==sr&&sH==sF['get']('media')||sE==-0x1){return;}if(sq['get']('selectedIndex')==sr&&sH!=sF['get']('media'))sq['set']('selectedIndex',-0x1);var sI=sC['get']('items')[sE];var sJ=sG['get']('viewerArea');var sK=sJ['get']('visible');var sL=sJ==sI['get']('player')['get']('viewerArea');if(sL){if(sq!=sC){sC['set']('selectedIndex',-0x1);sC['bind']('change',sx,this);}}else{sJ['set']('visible',!![]);}var sM=-0x1;var sN=undefined;var sO=sI['get']('camera');if(sO){sN=sO['get']('initialSequence');if(sN){sM=sN['get']('movementIndex');}}sq['set']('selectedIndex',sr);var sP=[];var sQ=function(ta){var tb=sG['get'](ta);if(tb==undefined)return;if(Array['isArray'](tb))sP=sP['concat'](tb);else sP['push'](tb);};sQ('buttonStop');for(var sR=0x0;sR<sP['length'];++sR){sP[sR]['bind']('click',sy,this);}sF['bind']('begin',sw,su);this['executeFunctionWhenChange'](sq,sr,st?sy:undefined);};TDV['Tour']['Script']['setOverlayBehaviour']=function(tc,td,te,tf){var tg=function(){switch(te){case'triggerClick':this['triggerOverlay'](tc,'click');break;case'stop':case'play':case'pause':tc[te]();break;case'togglePlayPause':case'togglePlayStop':if(tc['get']('state')=='playing')tc[te=='togglePlayPause'?'pause':'stop']();else tc['play']();break;}if(tf){if(window['overlaysDispatched']==undefined)window['overlaysDispatched']={};var tl=tc['get']('id');window['overlaysDispatched'][tl]=!![];setTimeout(function(){delete window['overlaysDispatched'][tl];},0x3e8);}};if(tf&&window['overlaysDispatched']!=undefined&&tc['get']('id')in window['overlaysDispatched'])return;var th=this['getFirstPlayListWithMedia'](td,!![]);if(th!=undefined){var ti=this['getPlayListItemByMedia'](th,td);var tj=ti['get']('player');if(th['get']('items')['indexOf'](ti)!=th['get']('selectedIndex')||this['isPanorama'](ti['get']('media'))&&tj['get']('rendererPanorama')!=ti['get']('media')){var tk=function(tm){ti['unbind']('begin',tk,this);tg['call'](this);};ti['bind']('begin',tk,this);return;}}tg['call'](this);};TDV['Tour']['Script']['setOverlaysVisibility']=function(tn,to,tp){var tq='overlayEffects';var tr=undefined;var ts=this['getKey'](tq);if(!ts){ts={};this['registerKey'](tq,ts);}for(var tt=0x0,tu=tn['length'];tt<tu;++tt){var tv=tn[tt];if(!tv)continue;if(tp&&tp>0x0){ts[tv['get']('id')]=setTimeout(tw['bind'](this,tv),tp);}else{tw['call'](this,tv);}}function tw(tx){var ty=tx['get']('id');var tz=ts[ty];if(tz){clearTimeout(tz);delete tz[ty];}var tA=tx['get']('class')=='PanoramaModel3DLocation'?tx['get']('data')['object']:tx;if(!tA)return;var tB=to=='toggle'?!tA['get']('enabled'):to;tA['set']('enabled',tB);if(tx['get']('class')=='PanoramaModel3DLocation')tx['get']('data')['enabled']=tB;var tD=tx['get']('data');if(tB&&tD&&'group'in tD){var tE=this['getOverlaysByGroupname'](tD['group']);for(var tF=0x0,tG=tE['length'];tF<tG;++tF){var tI=tE[tF];if(tI!=tx)tI['set']('enabled',!tB);}}if(!tr)tr=this['getByClassName']('AdjacentPanorama');for(var tJ=0x0,tK=tr['length'];tJ<tK;++tJ){var tL=tr[tJ];var tD=tL['get']('data');if(!tD)continue;var tI=this[tD['overlayID']];if(tI&&tI==tx){tL['set']('enabled',tI['get']('enabled'));}}}};TDV['Tour']['Script']['setOverlaysVisibilityByTags']=function(tM,tN,tO,tP,tQ){var tR=tO?this['getPanoramaOverlaysByTags'](tO,tM,tP):this['getOverlaysByTags'](tM,tP);this['setOverlaysVisibility'](tR,tN,tQ);};TDV['Tour']['Script']['setComponentsVisibilityByTags']=function(tS,tT,tU,tV,tW){var tX=this['getComponentsByTags'](tS,tW);for(var tY=0x0,tZ=tX['length'];tY<tZ;++tY){var u0=tX[tY];if(tT=='toggle')u0['get']('visible')?tV(u0):tU(u0);else tT?tU(u0):tV(u0);}};TDV['Tour']['Script']['setModel3DCameraSpot']=function(u1,u2,u3,u4,u5){var u6=u1['get']('selectedIndex');var u7=u1['get']('items');var u8=u2['get']('media');var u9=u8['get']('camera');if(u6>=0x0&&u7[u6]==u2&&u8['get']('isLoaded')){u9['set']('yaw',u9['get']('yaw')%0x168);var ua=u2['get']('player')['get']('viewerArea');var ub=this['getActiveMediaWithViewer'](ua);if(ub['get']('class')['indexOf']('Panorama')!=-0x1){if(u4!==undefined){u4*=0x3e8;var uc=ua['get']('modelToPanoramaTraslationDuration');var ud=ua['get']('panoramaToModelTraslationDuration');var ue=()=>{clearTimeout(uf);u1['unbind']('change',ue,this);ua['set']('modelToPanoramaTraslationDuration',uc);ua['set']('panoramaToModelTraslationDuration',ud);};var uf=setTimeout(ue,u4);u1['bind']('change',ue,this);ua['set']('modelToPanoramaTraslationDuration',u4);ua['set']('panoramaToModelTraslationDuration',u4);}u9['setStoredPosition'](u3);}else{if(u9['get']('state')=='playing')u9['stop']();this['createTween'](u9,u3,u4,u5)['play']();}}else{if(u9['get']('state')=='playing')u9['stop']();this['startModel3DWithCameraSpot'](u2,u3);}};TDV['Tour']['Script']['setModel3DCameraSequence']=function(ug,uh,ui){var uj=ug['get']('selectedIndex');var uk=ug['get']('items');var ul=uh['get']('media');if(uk[uj]==uh&&ul['get']('isLoaded')){ui['play']();}else{var um=ui['get']('movements');var un={};if(um['length']>0x0){var uo=um[0x0];if(uo['get']('class')=='TargetModel3DCameraMovement'){var up=['x','y','z','yaw','pitch','fov','distance'];for(var uq in up){uq=up[uq];var ur=uo['get']('target'+uq['charAt'](0x0)['toUpperCase']()+uq['slice'](0x1));if(ur!==undefined){un[uq]=ur;}}}}this['startModel3DWithCameraSpot'](uh,un);var us=function(){uh['unbind']('begin',us,this);ui['play']();};uh['bind']('begin',us,this);}};TDV['Tour']['Script']['setPanoramaCameraWithCurrentSpot']=function(ut,uu){var uv=this['getActiveMediaWithViewer'](uu||this['getMainViewer']());if(uv!=undefined&&(uv['get']('class')['indexOf']('Panorama')!=-0x1||uv['get']('class')=='Video360')){var uw=ut['get']('media');var ux=this['clonePanoramaCamera'](ut['get']('camera'));this['setCameraSameSpotAsMedia'](ux,uv);this['startPanoramaWithCamera'](uw,ux);}};TDV['Tour']['Script']['setPanoramaCameraWithSpot']=function(uy,uz,uA,uB,uC){var uD=uz['get']('media');var uE=uz['get']('player');if(uy['get']('items')[uy['get']('selectedIndex')]==uz||uE['get']('rendererPanorama')==uD){if(uA===undefined)uA=uE['get']('yaw');if(uB===undefined)uB=uE['get']('pitch');if(uC===undefined)uC=uE['get']('hfov');uE['moveTo'](uA,uB,uE['get']('roll'),uC);}else{var uF=this['clonePanoramaCamera'](uz['get']('camera'));var uG=uF['get']('initialPosition');if(uA!==undefined)uG['set']('yaw',uA);if(uB!==undefined)uG['set']('pitch',uB);if(uC!==undefined)uG['set']('hfov',uC);this['startPanoramaWithCamera'](uD,uF);}};TDV['Tour']['Script']['setSurfaceSelectionHotspotMode']=function(uH){var uI=this['getByClassName']('HotspotPanoramaOverlay');var uJ=this['getByClassName']('PanoramaPlayer');var uK=uH=='hotspotEnabled';var uL=uH=='circleEnabled';var uM=!!uH;uI['forEach'](function(uN){var uO=uN['get']('data');if(uO&&uO['hasPanoramaAction']==!![])uN['set']('enabledInSurfaceSelection',uK);});uJ['forEach'](function(uP){uP['set']('adjacentPanoramaPositionsEnabled',uL);uP['set']('surfaceSelectionEnabled',uM);});this['get']('data')['surfaceSelectionHotspotMode']=uH;};TDV['Tour']['Script']['setValue']=function(uQ,uR,uS){try{if('set'in uQ)uQ['set'](uR,uS);else uQ[uR]=uS;}catch(uT){}};TDV['Tour']['Script']['setStartTimeVideo']=function(uU,uV){var uW=this['getPlayListItems'](uU);var uX=[];var uY=function(){for(var v2=0x0;v2<uW['length'];++v2){var v3=uW[v2];v3['set']('startTime',uX[v2]);v3['unbind']('stop',uY,this);}};for(var uZ=0x0;uZ<uW['length'];++uZ){var v0=uW[uZ];var v1=v0['get']('player');if(!v1)continue;if(v1['get']('video')==uU&&v1['get']('state')=='playing'){v1['seek'](uV);}else{uX['push'](v0['get']('startTime'));v0['set']('startTime',uV);v0['bind']('stop',uY,this);}}};TDV['Tour']['Script']['setStartTimeVideoSync']=function(v4,v5){if(v4&&v5)this['setStartTimeVideo'](v4,v5['get']('currentTime'));};TDV['Tour']['Script']['skip3DTransitionOnce']=function(v6){if(v6&&v6['get']('class')=='PanoramaPlayer'){var v7=v6['get']('viewerArea');if(v7&&v7['get']('translationTransitionEnabled')==!![]){var v8=function(){v6['unbind']('preloadMediaShow',v8,this);v7['set']('translationTransitionEnabled',!![]);};v7['set']('translationTransitionEnabled',![]);v6['bind']('preloadMediaShow',v8,this);}}};TDV['Tour']['Script']['shareSocial']=function(v9,va,vb,vc,vd){if(va==undefined){va=location['href']['split'](location['search']||location['hash']||/[?#]/)[0x0];}if(vb){va+=this['updateDeepLink'](vc,![]);}va=function(vf){switch(vf){case'email':return'mailto:?body='+encodeURIComponent(va);case'facebook':var vg=va['indexOf']('?')!=-0x1;va=va['replace']('#','?');if(vg){var vh=va['lastIndexOf']('?');va=va['substring'](0x0,vh)+'&'+va['substring'](vh+0x1);}return'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(va);case'linkedin':return'https://www.linkedin.com/shareArticle?mini=true&url='+encodeURIComponent(va);case'pinterest':return'https://pinterest.com/pin/create/button/?url='+va;case'telegram':return'https://t.me/share/url?url='+va;case'twitter':return'https://twitter.com/intent/tweet?source=webclient&url='+va;case'whatsapp':return'https://api.whatsapp.com/send/?text='+encodeURIComponent(va);default:return va;}}(v9);if(vd){for(var ve in vd){va+='&'+ve+'='+vd[ve];}}if(v9=='clipboard')this['copyToClipboard'](va);else this['openLink'](va,'_blank');};TDV['Tour']['Script']['showComponentsWhileMouseOver']=function(vi,vj,vk,vl){var vm=function(vq){for(var vr=0x0,vs=vj['length'];vr<vs;vr++){var vt=vj[vr];if(!vl||vl(vt,vq))vt['set']('visible',vq);}};if(this['get']('isMobile')||this['get']('touchDevice')){vm['call'](this,!![]);}else{var vn=-0x1;var vo=function(){vm['call'](this,!![]);if(vn>=0x0)clearTimeout(vn);vi['bind']('rollOut',vp,this);};var vp=function(){var vu=function(){vm['call'](this,![]);};vi['unbind']('rollOut',vp,this);vn=setTimeout(vu['bind'](this),vk);};vi['bind']('rollOver',vo,this);}};TDV['Tour']['Script']['setObjectsVisibilityByTags']=function(vv,vw,vx,vy){var vz=this['_getObjectsByTags'](vw,['InnerModel3DObject'],'tags2Objects',vx)['filter'](function(vA){return vv['get']('objects')['indexOf'](vA)!=-0x1;}['bind'](this));this['setObjectsVisibility'](vz,vy);};TDV['Tour']['Script']['setObjectsVisibilityByID']=function(vB,vC,vD){var vE=vC['map'](function(vF){return this['getModel3DInnerObject'](vB,vF);}['bind'](this));this['setObjectsVisibility'](vE,vD);};TDV['Tour']['Script']['setObjectsVisibility']=function(vG,vH){vG['forEach'](function(vI){if(vI)vI['set']('enabled',vH==='toggle'?!vI['get']('enabled'):vH);}['bind'](this));};TDV['Tour']['Script']['getModel3DInnerObject']=function(vJ,vK){var vL=vJ['get']('objects');for(var vM=0x0,vN=vL['length'];vM<vN;++vM){var vO=vL[vM];if(vO['get']('class')=='InnerModel3DObject'&&vO['get']('objectId')==vK)return vO;}return undefined;};TDV['Tour']['Script']['showPopupMedia']=function(vP,vQ,vR,vS,vT,vU){var vV=this;var vW=function(){window['resumeAudiosBlocked']=![];vR['set']('selectedIndex',-0x1);vV['getMainViewer']()['set']('toolTipEnabled',!![]);this['resumePlayers'](w1,!![]);if(w0){this['unbind']('resize',vY,this);}vP['unbind']('close',vW,this);};var vX=function(){vP['hide']();};var vY=function(){var w2=function(wj){return vP['get'](wj)||0x0;};var w3=vV['get']('actualWidth');var w4=vV['get']('actualHeight');var w5=vV['getMediaWidth'](vQ);var w6=vV['getMediaHeight'](vQ);var w7=parseFloat(vS)/0x64;var w8=parseFloat(vT)/0x64;var w9=w7*w3;var wa=w8*w4;var wb=w2('footerHeight');var wc=w2('headerHeight');if(!wc){var wd=w2('closeButtonIconHeight')+w2('closeButtonPaddingTop')+w2('closeButtonPaddingBottom');var we=vV['getPixels'](w2('titleFontSize'))+w2('titlePaddingTop')+w2('titlePaddingBottom');wc=wd>we?wd:we;wc+=w2('headerPaddingTop')+w2('headerPaddingBottom');}var wf=w9-w2('bodyPaddingLeft')-w2('bodyPaddingRight')-w2('paddingLeft')-w2('paddingRight');var wg=wa-wc-wb-w2('bodyPaddingTop')-w2('bodyPaddingBottom')-w2('paddingTop')-w2('paddingBottom');var wh=wf/wg;var wi=w5/w6;if(wh>wi){w9=wg*wi+w2('bodyPaddingLeft')+w2('bodyPaddingRight')+w2('paddingLeft')+w2('paddingRight');}else{wa=wf/wi+wc+wb+w2('bodyPaddingTop')+w2('bodyPaddingBottom')+w2('paddingTop')+w2('paddingBottom');}if(w9>w3*w7){w9=w3*w7;}if(wa>w4*w8){wa=w4*w8;}vP['set']('width',w9);vP['set']('height',wa);vP['set']('x',(w3-w2('actualWidth'))*0.5);vP['set']('y',(w4-w2('actualHeight'))*0.5);};if(vU){this['executeFunctionWhenChange'](vR,0x0,vX);}var vZ=vQ['get']('class');var w0=vZ=='Video'||vZ=='Video360';vR['set']('selectedIndex',0x0);if(w0){this['bind']('resize',vY,this);vY();vR['get']('items')[0x0]['get']('player')['play']();}else{vP['set']('width',vS);vP['set']('height',vT);}window['resumeAudiosBlocked']=!![];this['getMainViewer']()['set']('toolTipEnabled',![]);var w1=this['pauseCurrentPlayers'](!![]);vP['bind']('close',vW,this);vP['show'](this,!![]);};TDV['Tour']['Script']['showPopupImage']=function(wk,wl,wm,wn,wo,wp,wq,wr,ws,wt,wu,wv){var ww=![];var wx=function(){wP['unbind']('loaded',wA,this);wE['call'](this);};var wy=function(){wP['unbind']('click',wy,this);if(wT!=undefined){clearTimeout(wT);}};var wz=function(){setTimeout(wJ,0x0);};var wA=function(){this['unbind']('click',wx,this);wO['set']('visible',!![]);wJ();wQ['set']('visible',!![]);wP['unbind']('loaded',wA,this);wP['bind']('resize',wz,this);wT=setTimeout(wB['bind'](this),0xc8);};var wB=function(){wT=undefined;if(wr){wP['bind']('click',wy,this);wD['call'](this);}wP['bind']('userInteractionStart',wK,this);wP['bind']('userInteractionEnd',wL,this);wP['bind']('backgroundClick',wE,this);if(wl){wP['bind']('click',wH,this);wP['set']('imageCursor','hand');}wQ['bind']('click',wE,this);if(wu)wu['call'](this);};var wC=function(){if(wr&&wT){clearTimeout(wT);wT=undefined;}};var wD=function(){if(wr){wC();wT=setTimeout(wE['bind'](this),wr);}};var wE=function(){this['getMainViewer']()['set']('toolTipEnabled',!![]);ww=!![];if(wT)clearTimeout(wT);if(wU)clearTimeout(wU);if(wr)wy();if(wp&&wp['get']('duration')>0x0){wp['bind']('end',wG,this);}else{setTimeout(()=>{wF['call'](this);},0x0);}wP['set']('visible',![]);wQ['set']('visible',![]);wO['set']('visible',![]);this['unbind']('click',wx,this);wP['unbind']('backgroundClick',wE,this);wP['unbind']('userInteractionStart',wK,this);wP['unbind']('userInteractionEnd',wL,this,!![]);wP['unbind']('resize',wz,this);if(wl){wP['unbind']('click',wH,this);wP['set']('cursor','default');}wQ['unbind']('click',wE,this);this['resumePlayers'](wS,ws==null||wt);if(wt){this['resumeGlobalAudios']();}if(ws){this['stopGlobalAudio'](ws);}};var wF=function(){wP['set']('image',null);if(wv)wv['call'](this);};var wG=function(){wp['unbind']('end',wG,this);wF['call'](this);};var wH=function(){wP['set']('image',wI()?wk:wl);};var wI=function(){return wP['get']('image')==wl;};var wJ=function(){var wV=wP['get']('actualWidth')-wP['get']('imageLeft')-wP['get']('imageWidth')+0xa;var wW=wP['get']('imageTop')+0xa;if(wV<0xa)wV=0xa;if(wW<0xa)wW=0xa;wQ['set']('right',wV);wQ['set']('top',wW);};var wK=function(){wC();if(wU){clearTimeout(wU);wU=undefined;}else{wQ['set']('visible',![]);}};var wL=function(){wD['call'](this);if(!ww){wU=setTimeout(wM,0x12c);}};var wM=function(){wU=undefined;wQ['set']('visible',!![]);wJ();};var wN=function(wX){var wY=wX['get']('data');if(wY&&'extraLevels'in wY){var wZ=this['rootPlayer']['createInstance'](wX['get']('class'));var x0=wY['extraLevels'];for(var x1=0x0;x1<x0['length'];x1++){var x2=x0[x1];if(typeof x2=='string')x0[x1]=this[x2['replace']('this.','')];}wZ['set']('levels',wX['get']('levels')['concat'](x0));wX=wZ;}return wX;};this['getMainViewer']()['set']('toolTipEnabled',![]);var wO=this['veilPopupPanorama'];var wP=this['zoomImagePopupPanorama'];var wQ=this['closeButtonPopupPanorama'];if(wq){for(var wR in wq){wQ['set'](wR,wq[wR]);}}var wS=this['pauseCurrentPlayers'](ws==null||!wt);if(wt){this['pauseGlobalAudios'](null,!![]);}if(ws){this['playGlobalAudio'](ws,!![]);}var wT=undefined;var wU=undefined;wk=wN['call'](this,wk);if(wl)wl=wN['call'](this,wl);wP['bind']('loaded',wA,this);setTimeout(function(){this['bind']('click',wx,this,![]);}['bind'](this),0x0);wP['set']('image',wk);wP['set']('customWidth',wm);wP['set']('customHeight',wn);wP['set']('showEffect',wo);wP['set']('hideEffect',wp);wP['set']('visible',!![]);return wP;};TDV['Tour']['Script']['showPopupPanoramaOverlay']=function(x3,x4,x5,x6,x7,x8,x9,xa){var xb=this['isCardboardViewMode']();if(x3['get']('visible')||!xb&&this['zoomImagePopupPanorama']['get']('visible'))return;this['getMainViewer']()['set']('toolTipEnabled',![]);if(!xb){var xc=this['zoomImagePopupPanorama'];var xd=x3['get']('showDuration');var xe=x3['get']('hideDuration');var xg=this['pauseCurrentPlayers'](x8==null||!x9);var xh=x3['get']('popupMaxWidth');var xi=x3['get']('popupMaxHeight');var xj=function(){var xn=function(){if(!this['isCardboardViewMode']())x3['set']('visible',![]);};x3['unbind']('showEnd',xj,this);x3['set']('showDuration',0x1);x3['set']('hideDuration',0x1);this['showPopupImage'](x5,x6,x3['get']('popupMaxWidth'),x3['get']('popupMaxHeight'),null,null,x4,x7,x8,x9,xn,xk);};var xk=function(){var xo=function(){x3['unbind']('hideEnd',xo,this);if(xa)xa();};var xp=function(){x3['unbind']('showEnd',xp,this);x3['bind']('hideEnd',xo,this,!![]);x3['set']('visible',![]);x3['set']('showDuration',xd);x3['set']('popupMaxWidth',xh);x3['set']('popupMaxHeight',xi);};this['resumePlayers'](xg,x8==null||!x9);x3['set']('hideDuration',xe);if(!x3['get']('visible')&&xe>0x0){var xq=xc['get']('imageWidth');var xr=xc['get']('imageHeight');x3['bind']('showEnd',xp,this,!![]);x3['set']('showDuration',0x1);x3['set']('popupMaxWidth',xq);x3['set']('popupMaxHeight',xr);x3['set']('visible',!![]);}else{x3['set']('showDuration',xd);}this['getMainViewer']()['set']('toolTipEnabled',!![]);};x3['bind']('showEnd',xj,this,!![]);}else{var xl=function(){this['resumePlayers'](xg,x8==null||x9);if(x9){this['resumeGlobalAudios']();}if(x8){this['stopGlobalAudio'](x8);}if(x6){x3['set']('image',x5);x3['unbind']('click',xm,this);}x3['unbind']('hideEnd',xl,this);this['getMainViewer']()['set']('toolTipEnabled',!![]);if(xa)xa();};var xm=function(){x3['set']('image',x3['get']('image')==x5?x6:x5);};var xg=this['pauseCurrentPlayers'](x8==null||!x9);if(x9){this['pauseGlobalAudios'](null,!![]);}if(x8){this['playGlobalAudio'](x8,!![]);}if(x6)x3['bind']('click',xm,this);x3['bind']('hideEnd',xl,this,!![]);}x3['set']('visible',!![]);};TDV['Tour']['Script']['showPopupPanoramaVideoOverlay']=function(xs,xt,xu,xv,xw){var xx=![];var xy=function(){xs['unbind']('showEnd',xy);xC['bind']('click',xA,this);xB();xC['set']('visible',!![]);}['bind'](this);var xz=function(){xx=!![];if(!xs['get']('loop'))xA();}['bind'](this);var xA=function(){window['resumeAudiosBlocked']=![];this['getMainViewer']()['set']('toolTipEnabled',!![]);xs['set']('visible',![]);xC['set']('visible',![]);xC['unbind']('click',xA,this);xs['unbind']('end',xz,this);xs['unbind']('hideEnd',xA,this,!![]);this['resumePlayers'](xE,!![]);if(xu){this['resumeGlobalAudios']();}if(xv)xv();if(xw&&xx)xw();}['bind'](this);var xB=function(){var xF=0xa;var xG=0xa;xC['set']('right',xF);xC['set']('top',xG);}['bind'](this);this['getMainViewer']()['set']('toolTipEnabled',![]);var xC=this['closeButtonPopupPanorama'];if(xt){for(var xD in xt){xC['set'](xD,xt[xD]);}}window['resumeAudiosBlocked']=!![];var xE=this['pauseCurrentPlayers'](!![]);if(xu){this['pauseGlobalAudios']();}xs['bind']('end',xz,this,!![]);xs['bind']('showEnd',xy,this,!![]);xs['bind']('hideEnd',xA,this,!![]);xs['set']('visible',!![]);};TDV['Tour']['Script']['showWindow']=function(xH,xI,xJ){if(xH['get']('visible')==!![]){return;}var xK=function(){this['getMainViewer']()['set']('toolTipEnabled',!![]);if(xJ){this['resumeGlobalAudios']();}xL();this['resumePlayers'](xO,!xJ);xH['unbind']('close',xK,this);};var xL=function(){xH['unbind']('click',xL,this);if(xM!=undefined){clearTimeout(xM);}};var xM=undefined;if(xI){var xN=function(){xH['hide']();};xH['bind']('click',xL,this);xM=setTimeout(xN,xI);}this['getMainViewer']()['set']('toolTipEnabled',![]);if(xJ){this['pauseGlobalAudios'](null,!![]);}var xO=this['pauseCurrentPlayers'](!xJ);xH['bind']('close',xK,this);xH['show'](this,!![]);};TDV['Tour']['Script']['startModel3DWithCameraSpot']=function(xP,xQ){var xR=xP['get']('media');var xS=window['currentPanoramasWithCameraChanged']==undefined||!(xR['get']('id')in window['currentPanoramasWithCameraChanged']);if(!xS){return;}var xT=xR['get']('camera');xQ=Object['assign']({},xQ);if(!xR['get']('isLoaded')){var xU={};for(var xW in xQ){var xX='initial'+xW['charAt'](0x0)['toUpperCase']()+xW['slice'](0x1);xU[xX]=xT['get'](xX);xQ[xX]=xQ[xW];xT['set'](xX,xQ[xX]);delete xQ[xW];}if(window['currentPanoramasWithCameraChanged']==undefined){window['currentPanoramasWithCameraChanged']={};}var xY=xR['get']('id');window['currentPanoramasWithCameraChanged'][xY]=[xP];var xZ=function(){if(xY in window['currentPanoramasWithCameraChanged']){delete window['currentPanoramasWithCameraChanged'][xY];}xP['unbind']('begin',xZ,this);for(var y7 in xU){xT['set'](y7,xU[y7]);}};xP['bind']('begin',xZ,this);}else{for(var xW in xQ){xT['set'](xW,xQ[xW]);}xT['setStoredPosition'](xQ);}var y0=xP['get']('player');var y1=y0['get']('viewerArea');var y2=this['getActivePlayersWithViewer'](y1);var y3=y2['find'](function(y8){return this['getMediaFromPlayer'](y8)['get']('class')['indexOf']('Panorama')!=-0x1;}['bind'](this));var y4=xR['get']('data');if(y3&&y4['panoramaLocations']){var y5=this['getMediaFromPlayer'](y3);var y6=_getObject(this,y4['panoramaLocations']['find'](y9=>y5==_getObject(this,_getObject(this,y9)['get']('data')['panorama'])));if(y6&&!y6['get']('forceModelLoading')){y6['set']('forceModelLoading',!![]);xP['bind']('begin',function ya(){xP['unbind']('begin',ya,this);y6['set']('forceModelLoading',![]);},this);}}};TDV['Tour']['Script']['startPanoramaWithCamera']=function(yb,yc){var yd=this['getByClassName']('PlayList');if(yd['length']==0x0)return;var ye=window['currentPanoramasWithCameraChanged']==undefined||!(yb['get']('id')in window['currentPanoramasWithCameraChanged']);var yf=[];for(var yh=0x0,yi=yd['length'];yh<yi;++yh){var yj=yd[yh];var yk=yj['get']('items');for(var yl=0x0,ym=yk['length'];yl<ym;++yl){var yo=yk[yl];if(yo['get']('media')==yb&&(yo['get']('class')=='PanoramaPlayListItem'||yo['get']('class')=='Video360PlayListItem')){if(ye){yf['push']({'camera':yo['get']('camera'),'item':yo});}yo['set']('camera',yc);}}}if(yf['length']>0x0){if(window['currentPanoramasWithCameraChanged']==undefined){window['currentPanoramasWithCameraChanged']={};}var yp=yb['get']('id');window['currentPanoramasWithCameraChanged'][yp]=yf;var yq=function(){if(yp in window['currentPanoramasWithCameraChanged']){delete window['currentPanoramasWithCameraChanged'][yp];}for(var ys=0x0;ys<yf['length'];ys++){yf[ys]['item']['set']('camera',yf[ys]['camera']);yf[ys]['item']['unbind']('end',yq,this);}};for(var yh=0x0;yh<yf['length'];yh++){var yr=yf[yh];var yo=yr['item'];this['skip3DTransitionOnce'](yo['get']('player'));yo['bind']('end',yq,this);}}};TDV['Tour']['Script']['stopAndGoCamera']=function(yt,yu){var yv=yt['get']('initialSequence');yv['pause']();var yw=function(){yv['play']();};setTimeout(yw,yu);};TDV['Tour']['Script']['syncPlaylists']=function(yx){var yy=function(yG,yH){for(var yI=0x0,yJ=yx['length'];yI<yJ;++yI){var yK=yx[yI];if(yK!=yH){var yL=yK['get']('items');for(var yM=0x0,yN=yL['length'];yM<yN;++yM){if(yL[yM]['get']('media')==yG){if(yK['get']('selectedIndex')!=yM){yK['set']('selectedIndex',yM);}break;}}}}};var yz=function(yO){var yP=yO['source'];var yQ=yP['get']('selectedIndex');if(yQ<0x0)return;var yR=yP['get']('items')[yQ]['get']('media');yy(yR,yP);};var yA=function(yS){var yT=yS['source']['get']('panoramaMapLocation');if(yT){var yU=yT['get']('map');yy(yU);}};for(var yC=0x0,yE=yx['length'];yC<yE;++yC){yx[yC]['bind']('change',yz,this);}var yF=this['getByClassName']('MapPlayer');for(var yC=0x0,yE=yF['length'];yC<yE;++yC){yF[yC]['bind']('panoramaMapLocation_change',yA,this);}};TDV['Tour']['Script']['translate']=function(yV){return this['get']('data')['localeManager']['trans'](yV);};TDV['Tour']['Script']['triggerOverlay']=function(yW,yX){if(yW['get']('areas')!=undefined){var yY=yW['get']('areas');for(var yZ=0x0;yZ<yY['length'];++yZ){yY[yZ]['trigger'](yX);}}else{yW['trigger'](yX);}};TDV['Tour']['Script']['updateDeepLink']=function(z0){z0=z0||{};var z1=this['mainPlayList']['get']('selectedIndex');var z2;var z3=z1>=0x0?this['mainPlayList']['get']('items')[z1]['get']('media'):this['getActiveMediaWithViewer'](this['getMainViewer']());if(z3!=undefined){var z5=z3['get']('data');if(z5&&z5['label']){if(z1>=0x0){var z7=this['mainPlayList']['get']('items')['reduce'](function(zs,zt){var zu=zt['get']('media')['get']('data');return zu&&z5['label']==zu['label']?zs+0x1:zs;},0x0);if(z7!=0x1)z2='#media='+(z1+0x1);}if(!z2)z2='#media-name='+encodeURIComponent(z5['label']);}else if(z1>=0x0){z2='#media='+(z1+0x1);}}if(z3){if(z0['includeCurrentView']===!![]){var z8=this['getActivePlayerWithViewer'](this['getMainViewer']());if(z8){switch(z8['get']('class')){case'PanoramaPlayer':var z9=z8['get']('yaw');var za=z8['get']('pitch');var zb=z8['get']('hfov');if(!isNaN(z9)&&!isNaN(za))z2+='&yaw='+z9['toFixed'](0x2)+'&pitch='+za['toFixed'](0x2);if(!isNaN(zb))z2+='&fov='+zb['toFixed'](0x2);break;case'Model3DPlayer':var zc=z8['get']('model');var zd=zc['get']('camera');var ze=[];ze['push']('yaw='+zd['get']('yaw')['toFixed'](0x2));ze['push']('pitch='+zd['get']('pitch')['toFixed'](0x2));ze['push']('x='+zd['get']('x')['toFixed'](0x5));ze['push']('y='+zd['get']('y')['toFixed'](0x5));ze['push']('z='+zd['get']('z')['toFixed'](0x5));if(zd['get']('class')=='OrbitModel3DCamera')ze['push']('distance='+zd['get']('distance')['toFixed'](0x5));z2+='&'+ze['join']('&');break;}}}if(z0['includeCurrentVisibleHotspots']===!![]){var zf=this['getOverlays'](z3);var zg=[];var zh=[];for(var zi=0x0,z7=zf['length'];zi<z7;++zi){var zj=zf[zi];var zk=zj['get']('enabled');var z5=zj['get']('data');if(zk===undefined||!z5||!z5['label'])continue;var zl=encodeURIComponent(z5['label']);var zm=z5['group'];if(zk!=z5['defaultEnabledValue']){if(zk){zg['push'](zl);}else if(!zm){zh['push'](zl);}}}if(zg['length']>0x0)z2+='&son='+zg['join'](',');if(zh['length']>0x0)z2+='&hon='+zh['join'](',');if(z3['get']('class')=='Model3D'){var zn=z3['get']('variant');if(zn)z2+='&variant='+zn;var zo=z3['get']('objects');var zp=[];var zq=[];zo['forEach'](function(zv){if(zv['get']('class')=='InnerModel3DObject')(zv['get']('enabled')?zp:zq)['push'](zv['get']('objectId'));});if(zp['length']>0x0)z2+='&sobjids='+zp['join'](',');if(zq['length']>0x0)z2+='&hobjids='+zq['join'](',');}}if(z0['includeCurrentMeasureModel3DObjects']===!![]&&z3['get']('class')=='Model3D'){var zr=[];z3['get']('objects')['forEach'](function(zw){if(zw['get']('class')=='MeasureModel3DObject'&&zw['get']('mode')!='create'){var zx=[zw['get']('data')['id'],zw['get']('x'),zw['get']('y'),zw['get']('z')];zw['get']('points')['forEach'](function(zy){zx['push'](zy['get']('x'),zy['get']('y'),zy['get']('z'));});if(zx['length']>0x4){zr['push'](zx['join'](','));}}});if(zr['length']>0x0)z2+='&measures='+zr['join']('+');}}if(z2&&z0['setHash']===!![]){location['hash']=z2;}return z2;};TDV['Tour']['Script']['updateMediaLabelFromPlayList']=function(zz,zA,zB){var zC=function(){var zE=zz['get']('selectedIndex');if(zE>=0x0){var zF=function(){zI['unbind']('begin',zF);zG(zE);};var zG=function(zJ){var zK=zI['get']('media');var zL=zK['get']('data');var zM=zL!==undefined?zL['description']:undefined;zH(zM);};var zH=function(zN){if(zN!==undefined){zA['set']('html','<div\x20style=\x22text-align:left\x22><SPAN\x20STYLE=\x22color:#FFFFFF;font-size:12px;font-family:Verdana\x22><span\x20color=\x22white\x22\x20font-family=\x22Verdana\x22\x20font-size=\x2212px\x22>'+zN+'</SPAN></div>');}else{zA['set']('html','');}var zO=zA['get']('html');zA['set']('visible',zO!==undefined&&zO);};var zI=zz['get']('items')[zE];if(zA['get']('html')){zH('Loading...');zI['bind']('begin',zF);}else{zG(zE);}}};var zD=function(){zA['set']('html',undefined);zz['unbind']('change',zC,this);zB['unbind']('stop',zD,this);};if(zB){zB['bind']('stop',zD,this);}zz['bind']('change',zC,this);zC();};TDV['Tour']['Script']['updateVideoCues']=function(zP,zQ){var zR=zP['get']('items')[zQ];var zS=zR['get']('media');if(zS['get']('cues')['length']==0x0)return;var zT=zR['get']('player');var zU=[];var zV=function(){if(zP['get']('selectedIndex')!=zQ){zS['unbind']('cueChange',zW,this);zP['unbind']('change',zV,this);}};var zW=function(zX){var zY=zX['data']['activeCues'];for(var zZ=0x0,A0=zU['length'];zZ<A0;++zZ){var A1=zU[zZ];if(zY['indexOf'](A1)==-0x1&&(A1['get']('startTime')>zT['get']('currentTime')||A1['get']('endTime')<zT['get']('currentTime')+0.5)){A1['trigger']('end');}}zU=zY;};zS['bind']('cueChange',zW,this);zP['bind']('change',zV,this);};TDV['Tour']['Script']['visibleComponentsIfPlayerFlagEnabled']=function(A2,A3){var A4=this['get'](A3);for(var A5 in A2){A2[A5]['set']('visible',A4);}};TDV['Tour']['Script']['quizStart']=function(){var A6=this['get']('data')['quiz'];return A6?A6['start']():undefined;};TDV['Tour']['Script']['quizFinish']=function(){var A7=this['get']('data')['quiz'];return A7?A7['finish']():undefined;};TDV['Tour']['Script']['quizPauseTimer']=function(){var A8=this['get']('data')['quiz'];return A8?A8['pauseTimer']():undefined;};TDV['Tour']['Script']['quizResumeTimer']=function(){var A9=this['get']('data')['quiz'];return A9?A9['continueTimer']():undefined;};TDV['Tour']['Script']['quizSetItemFound']=function(Aa){var Ab=this['get']('data')['quiz'];if(Ab)Ab['setItemFound'](Aa);};TDV['Tour']['Script']['quizShowQuestion']=function(Ac){var Ad=this['get']('data');var Ae=Ad['quiz'];var Af;if(Ae){var Ag=this['pauseCurrentPlayers'](!![]);var Ah=this[Ac];var Ai;if(!Ah['media']){Ai=this['get']('isMobile')?{'theme':{'window':{'height':undefined,'maxHeight':this['get']('actualHeight'),'optionsContainer':{'height':'100%'}}}}:{'theme':{'window':{'width':'40%','height':undefined,'maxHeight':0x2bc,'optionsContainer':{'width':'100%'}}}};}else if(this['get']('isMobile')&&this['get']('orientation')=='landscape'){Ai={'theme':{'window':{'bodyContainer':{'layout':'horizontal','paddingLeft':0x1e,'paddingRight':0x1e},'mediaContainer':{'width':'60%','height':'100%'},'buttonsContainer':{'paddingLeft':0x14,'paddingRight':0x14},'optionsContainer':{'width':'40%','height':'100%','paddingLeft':0x0,'paddingRight':0x0}}}};}if(this['get']('isMobile')&&this['get']('orientation')=='landscape'){var Aj=this['get']('data')['tour']['getNotchValue']();if(Aj>0x0){Ai=this['mixObject'](Ai||{},{'theme':{'window':{'width':undefined,'left':Aj,'right':Aj}}});}}var Ak=this['get']('data')['textToSpeechConfig']['speechOnQuizQuestion']&&!!Ah['title'];if(Ak)this['textToSpeech'](Ah['title'],Ac);Af=Ae['showQuestion'](Ac,Ai);Af['then'](function(Al){if(Ak)this['stopTextToSpeech']();this['resumePlayers'](Ag,!![]);}['bind'](this));}return Af;};TDV['Tour']['Script']['quizShowScore']=function(Am){var An=this['get']('data');var Ao=An['quiz'];if(Ao){if(this['get']('isMobile')){Am=Am||{};Am=this['mixObject'](Am,An[this['get']('orientation')=='portrait'?'scorePortraitConfig':'scoreLandscapeConfig']);}return Ao['showScore'](Am);}};TDV['Tour']['Script']['quizShowTimeout']=function(Ap,Aq){var Ar=this['get']('data');var As=Ar['quiz'];if(As){if(this['get']('isMobile')){Aq=Aq||{};Aq=this['mixObject'](Aq,Ar[this['get']('orientation')=='portrait'?'scorePortraitConfig':'scoreLandscapeConfig']);}As['showTimeout'](Ap,Aq);}};TDV['Tour']['Script']['stopTextToSpeech']=function(At){if(window['speechSynthesis']&&(At==undefined||this['t2sLastID']==At)){var Au=window['speechSynthesis'];if(Au['speaking']){Au['cancel']();}this['t2sLastID']=undefined;}};TDV['Tour']['Script']['getStateTextToSpeech']=function(Av){return this['t2sLastID']==Av?'playing':'stopped';};TDV['Tour']['Script']['textToSpeech']=function(Aw,Ax,Ay){if(this['get']('mute')){return;}var Az=this['get']('data');var AA=Az['disableTTS']||![];if(AA)return;if(Ax!=undefined&&this['t2sLastID']!=Ax||Ax==undefined){Ay=Ay||0x0;if(this['t2sLastID']&&Ay>this['t2sLastPriority']){return;}var AB=Az['tour'];var AC=Az['textToSpeechConfig'];var AD=Az['localeManager']['currentLocaleID'];if(window['speechSynthesis']){var AE=window['speechSynthesis'];if(AE['speaking']){AE['cancel']();}var AF=new SpeechSynthesisUtterance(Aw);if(AD)AF['lang']=AD;var AG;if(AC){AF['volume']=AC['volume'];AF['pitch']=AC['pitch'];AF['rate']=AC['rate'];if(AC['stopBackgroundAudio'])this['pauseGlobalAudios'](null,!![]);}AF['onend']=function(){this['t2sLastID']=null;if(AG)clearInterval(AG);if(AC['stopBackgroundAudio'])this['resumeGlobalAudios']();}['bind'](this);if(navigator['userAgent']['indexOf']('Chrome')!=-0x1&&!this['get']('isMobile')){AG=setInterval(function(){AE['pause']();AE['resume']();},0xbb8);}AE['speak'](AF);this['t2sLastPriority']=Ay;this['t2sLastID']=Ax;}else if(AB['isMobileApp']()){if(!AB['isIOS']()){var AH=function(AI,AJ){var AK={'command':'tts','type':AI};if(AJ)AK=this['mixObject'](AK,AJ);android['sendJSON'](JSON['stringify'](AK));}['bind'](this);android['onTTSEnd']=function(){this['t2sLastID']=null;if(AC['stopBackgroundAudio'])this['resumeGlobalAudios']();android['onTTSEnd']=undefined;}['bind'](this);AH('stop');if(AC){AH('init',{'volume':AC['volume'],'pitch':AC['pitch'],'rate':AC['rate'],'language':AD});if(AC['stopBackgroundAudio'])this['pauseGlobalAudios'](null,!![]);}AH('play',{'text':Aw,'androidCallback':'onTTSEnd'});}else{console['error']('Text\x20to\x20Speech\x20isn\x27t\x20supported\x20on\x20this\x20browser');}}else{console['error']('Text\x20to\x20Speech\x20isn\x27t\x20supported\x20on\x20this\x20browser');}}};TDV['Tour']['Script']['textToSpeechComponent']=function(AL){var AM=AL['get']('class');var AN;if(AM=='HTMLText'){var AO=AL['get']('html');if(AO){AN=this['htmlToPlainText'](AO,{'linkProcess':function(AP,AQ){return AQ;}});}}else if(AM=='BaseButton'){AN=AL['get']('label');}else if(AM=='Label'){AN=AL['get']('text');}if(AN){this['textToSpeech'](AN,AL['get']('id'));}};TDV['Tour']['Script']['toggleTextToSpeechComponent']=function(AR){var AS=AR['get']('id');if(this['getStateTextToSpeech'](AS)!='playing')this['textToSpeechComponent'](AR);else this['stopTextToSpeech'](AS);};TDV['Tour']['Script']['_initTTSTooltips']=function(){function AT(AV){var AW=AV['source'];this['textToSpeech'](AW['get']('toolTip'),AW['get']('id'),0x1);}function AU(AX){var AY=AX['source'];this['stopTextToSpeech'](AY['get']('id'));}setTimeout(function(){var AZ=this['getByClassName']('UIComponent');for(var B0=0x0,B1=AZ['length'];B0<B1;++B0){var B2=AZ[B0];var B3=B2['get']('toolTip');if(!!B3||B2['get']('class')=='ViewerArea'){B2['bind']('toolTipShow',AT,this);B2['bind']('toolTipHide',AU,this);}}}['bind'](this),0x0);};TDV['Tour']['Script']['takeScreenshot']=function(B4){var B5=this['getActivePlayerWithViewer'](B4);if(B5&&(B5['get']('class')=='PanoramaPlayer'||B5['get']('class')=='Model3DPlayer'))B5['saveScreenshot']();};TDV['Tour']['Script']['htmlToPlainText']=function htmlToPlainText(B6,B7){var B8=function(Bm,Bn){var Bo='';for(var Bp=0x0;Bp<Bn;Bp+=0x1){Bo+=Bm;}return Bo;};var B9=null;var Ba=null;var Bb='underline';var Bc='indention';var Bd='-';var Be=0x3;var Bf='-';var Bg=![];if(!!B7){if(typeof B7['linkProcess']==='function'){B9=B7['linkProcess'];}if(typeof B7['imgProcess']==='function'){Ba=B7['imgProcess'];}if(!!B7['headingStyle']){Bb=B7['headingStyle'];}if(!!B7['listStyle']){Bc=B7['listStyle'];}if(!!B7['uIndentionChar']){Bd=B7['uIndentionChar'];}if(!!B7['listIndentionTabs']){Be=B7['listIndentionTabs'];}if(!!B7['oIndentionChar']){Bf=B7['oIndentionChar'];}if(!!B7['keepNbsps']){Bg=B7['keepNbsps'];}}var Bh=B8(Bd,Be);var Bi=String(B6)['replace'](/\n|\r/g,'\x20');const Bj=Bi['match'](/<\/body>/i);if(Bj){Bi=Bi['substring'](0x0,Bj['index']);}const Bk=Bi['match'](/<body[^>]*>/i);if(Bk){Bi=Bi['substring'](Bk['index']+Bk[0x0]['length'],Bi['length']);}Bi=Bi['replace'](/<(script|style)( [^>]*)*>((?!<\/\1( [^>]*)*>).)*<\/\1>/gi,'');Bi=Bi['replace'](/<(\/)?((?!h[1-6]( [^>]*)*>)(?!img( [^>]*)*>)(?!a( [^>]*)*>)(?!ul( [^>]*)*>)(?!ol( [^>]*)*>)(?!li( [^>]*)*>)(?!p( [^>]*)*>)(?!div( [^>]*)*>)(?!td( [^>]*)*>)(?!br( [^>]*)*>)[^>\/])[^<>]*>/gi,'');Bi=Bi['replace'](/<img([^>]*)>/gi,function(Bq,Br){var Bs='';var Bt='';var Bu=/src="([^"]*)"/i['exec'](Br);var Bv=/alt="([^"]*)"/i['exec'](Br);if(Bu!==null){Bs=Bu[0x1];}if(Bv!==null){Bt=Bv[0x1];}if(typeof Ba==='function'){return Ba(Bs,Bt);}if(Bt===''){return'![image]\x20('+Bs+')';}return'!['+Bt+']\x20('+Bs+')';});function Bl(){return function(Bw,Bx,By,Bz){var BA=0x0;if(By&&/start="([0-9]+)"/i['test'](By)){BA=/start="([0-9]+)"/i['exec'](By)[0x1]-0x1;}var BB='<p>'+Bz['replace'](/<li[^>]*>(((?!<li[^>]*>)(?!<\/li>).)*)<\/li>/gi,function(BC,BD){var BE=0x0;var BF=BD['replace'](/(^|(<br \/>))(?!<p>)/gi,function(){if(Bx==='o'&&BE===0x0){BA+=0x1;BE+=0x1;return'<br\x20/>'+BA+B8(Bf,Be-String(BA)['length']);}return'<br\x20/>'+Bh;});return BF;})+'</p>';return BB;};}if(Bc==='linebreak'){Bi=Bi['replace'](/<\/?ul[^>]*>|<\/?ol[^>]*>|<\/?li[^>]*>/gi,'\x0a');}else if(Bc==='indention'){while(/<(o|u)l[^>]*>(.*)<\/\1l>/gi['test'](Bi)){Bi=Bi['replace'](/<(o|u)l([^>]*)>(((?!<(o|u)l[^>]*>)(?!<\/(o|u)l>).)*)<\/\1l>/gi,Bl());}}if(Bb==='linebreak'){Bi=Bi['replace'](/<h([1-6])[^>]*>([^<]*)<\/h\1>/gi,'\x0a$2\x0a');}else if(Bb==='underline'){Bi=Bi['replace'](/<h1[^>]*>(((?!<\/h1>).)*)<\/h1>/gi,function(BG,BH){return'\x0a&nbsp;\x0a'+BH+'\x0a'+B8('=',BH['length'])+'\x0a&nbsp;\x0a';});Bi=Bi['replace'](/<h2[^>]*>(((?!<\/h2>).)*)<\/h2>/gi,function(BI,BJ){return'\x0a&nbsp;\x0a'+BJ+'\x0a'+B8('-',BJ['length'])+'\x0a&nbsp;\x0a';});Bi=Bi['replace'](/<h([3-6])[^>]*>(((?!<\/h\1>).)*)<\/h\1>/gi,function(BK,BL,BM){return'\x0a&nbsp;\x0a'+BM+'\x0a&nbsp;\x0a';});}else if(Bb==='hashify'){Bi=Bi['replace'](/<h([1-6])[^>]*>([^<]*)<\/h\1>/gi,function(BN,BO,BP){return'\x0a&nbsp;\x0a'+B8('#',BO)+'\x20'+BP+'\x0a&nbsp;\x0a';});}Bi=Bi['replace'](/<br( [^>]*)*>|<p( [^>]*)*>|<\/p( [^>]*)*>|<div( [^>]*)*>|<\/div( [^>]*)*>|<td( [^>]*)*>|<\/td( [^>]*)*>/gi,'\x0a');Bi=Bi['replace'](/<a[^>]*href="([^"]*)"[^>]*>([^<]+)<\/a[^>]*>/gi,function(BQ,BR,BS){if(typeof B9==='function'){return B9(BR,BS);}return'\x20['+BS+']\x20('+BR+')\x20';});Bi=Bi['replace'](/\n[ \t\f]*/gi,'\x0a');Bi=Bi['replace'](/\n\n+/gi,'\x0a');if(Bg){Bi=Bi['replace'](/( |\t)+/gi,'\x20');Bi=Bi['replace'](/&nbsp;/gi,'\x20');}else{Bi=Bi['replace'](/( |&nbsp;|\t)+/gi,'\x20');}Bi=Bi['replace'](/\n +/gi,'\x0a');Bi=Bi['replace'](/^ +/gi,'');while(Bi['indexOf']('\x0a')===0x0){Bi=Bi['substring'](0x1);}if(Bi['length']===0x0||Bi['lastIndexOf']('\x0a')!==Bi['length']-0x1){Bi+='\x0a';}return Bi;};TDV['Tour']['Script']['openEmbeddedPDF']=function(BT,BU){var BV=!!window['MSInputMethodContext']&&!!document['documentMode'];if(BV){this['openLink'](BU,'_blank');return;}var BW=BT['get']('class');var BX=!new RegExp('^(?:[a-z]+:)?//','i')['test'](BU);if(BX&&BW=='WebFrame'){var BY=location['origin']+location['pathname'];BT['set']('url','lib/pdfjs/web/viewer.html?file='+encodeURIComponent(BY['substring'](0x0,BY['lastIndexOf']('/'))+'/'+BU)+'#0');}else{var BZ=location['origin']==new URL(BU)['origin'];var C0='<iframe\x20\x20id=\x27googleViewer\x27\x20src=\x27https://docs.google.com/viewer?url=[url]&embedded=true\x27\x20width=\x27100%\x27\x20height=\x27100%\x27\x20frameborder=\x270\x27>'+'<p>This\x20browser\x20does\x20not\x20support\x20inline\x20PDFs.\x20Please\x20download\x20the\x20PDF\x20to\x20view\x20it:\x20<a\x20href=\x27[url]\x27>Download\x20PDF</a></p>'+'</iframe>';var C1=/^((?!chrome|android|crios|ipad|iphone).)*safari/i['test'](navigator['userAgent']);var C2='<div\x20id=\x22content\x22\x20style=\x22width:100%;height:100%;position:absolute;left:0;top:0;\x22></div>'+'<script\x20type=\x22text/javascript\x22>'+'!function(root,factory){\x22function\x22==typeof\x20define&&define.amd?define([],factory):\x22object\x22==typeof\x20module&&module.exports?module.exports=factory():root.PDFObject=factory()}(this,function(){\x22use\x20strict\x22;if(void\x200===window||void\x200===window.navigator||void\x200===window.navigator.userAgent||void\x200===window.navigator.mimeTypes)return!1;let\x20nav=window.navigator,ua=window.navigator.userAgent,isIE=\x22ActiveXObject\x22in\x20window,isModernBrowser=void\x200!==window.Promise,supportsPdfMimeType=void\x200!==nav.mimeTypes[\x22application/pdf\x22],isMobileDevice=void\x200!==nav.platform&&\x22MacIntel\x22===nav.platform&&void\x200!==nav.maxTouchPoints&&nav.maxTouchPoints>1||/Mobi|Tablet|Android|iPad|iPhone/.test(ua),isSafariDesktop=!isMobileDevice&&void\x200!==nav.vendor&&/Apple/.test(nav.vendor)&&/Safari/.test(ua),isFirefoxWithPDFJS=!(isMobileDevice||!/irefox/.test(ua))&&parseInt(ua.split(\x22rv:\x22)[1].split(\x22.\x22)[0],10)>18,createAXO=function(type){var\x20ax;try{ax=new\x20ActiveXObject(type)}catch(e){ax=null}return\x20ax},supportsPDFs=!isMobileDevice&&(isFirefoxWithPDFJS||supportsPdfMimeType||isIE&&!(!createAXO(\x22AcroPDF.PDF\x22)&&!createAXO(\x22PDF.PdfCtrl\x22))),embedError=function(msg,suppressConsole){return\x20suppressConsole||console.log(\x22[PDFObject]\x20\x22+msg),!1},emptyNodeContents=function(node){for(;node.firstChild;)node.removeChild(node.firstChild)},generatePDFJSMarkup=function(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles){emptyNodeContents(targetNode);let\x20fullURL=PDFJS_URL+\x22?file=\x22+encodeURIComponent(url)+pdfOpenFragment,div=document.createElement(\x22div\x22),iframe=document.createElement(\x22iframe\x22);return\x20iframe.src=fullURL,iframe.className=\x22pdfobject\x22,iframe.type=\x22application/pdf\x22,iframe.frameborder=\x220\x22,id&&(iframe.id=id),omitInlineStyles||(div.style.cssText=\x22position:\x20absolute;\x20top:\x200;\x20right:\x200;\x20bottom:\x200;\x20left:\x200;\x22,iframe.style.cssText=\x22border:\x20none;\x20width:\x20100%;\x20height:\x20100%;\x22,/*targetNode.style.position=\x22relative\x22,*/targetNode.style.overflow=\x22auto\x22),div.appendChild(iframe),targetNode.appendChild(div),targetNode.classList.add(\x22pdfobject-container\x22),targetNode.getElementsByTagName(\x22iframe\x22)[0]},embed=function(url,targetSelector,options){let\x20selector=targetSelector||!1,opt=options||{},id=\x22string\x22==typeof\x20opt.id?opt.id:\x22\x22,page=opt.page||!1,pdfOpenParams=opt.pdfOpenParams||{},fallbackLink=opt.fallbackLink||!0,width=opt.width||\x22100%\x22,height=opt.height||\x22100%\x22,assumptionMode=\x22boolean\x22!=typeof\x20opt.assumptionMode||opt.assumptionMode,forcePDFJS=\x22boolean\x22==typeof\x20opt.forcePDFJS&&opt.forcePDFJS,supportRedirect=\x22boolean\x22==typeof\x20opt.supportRedirect&&opt.supportRedirect,omitInlineStyles=\x22boolean\x22==typeof\x20opt.omitInlineStyles&&opt.omitInlineStyles,suppressConsole=\x22boolean\x22==typeof\x20opt.suppressConsole&&opt.suppressConsole,forceIframe=\x22boolean\x22==typeof\x20opt.forceIframe&&opt.forceIframe,PDFJS_URL=opt.PDFJS_URL||!1,targetNode=function(targetSelector){let\x20targetNode=document.body;return\x22string\x22==typeof\x20targetSelector?targetNode=document.querySelector(targetSelector):void\x200!==window.jQuery&&targetSelector\x20instanceof\x20jQuery&&targetSelector.length?targetNode=targetSelector.get(0):void\x200!==targetSelector.nodeType&&1===targetSelector.nodeType&&(targetNode=targetSelector),targetNode}(selector),fallbackHTML=\x22\x22,pdfOpenFragment=\x22\x22;if(\x22string\x22!=typeof\x20url)return\x20embedError(\x22URL\x20is\x20not\x20valid\x22,suppressConsole);if(!targetNode)return\x20embedError(\x22Target\x20element\x20cannot\x20be\x20determined\x22,suppressConsole);if(page&&(pdfOpenParams.page=page),pdfOpenFragment=function(pdfParams){let\x20prop,string=\x22\x22;if(pdfParams){for(prop\x20in\x20pdfParams)pdfParams.hasOwnProperty(prop)&&(string+=encodeURIComponent(prop)+\x22=\x22+encodeURIComponent(pdfParams[prop])+\x22&\x22);string&&(string=(string=\x22#\x22+string).slice(0,string.length-1))}return\x20string}(pdfOpenParams),forcePDFJS&&PDFJS_URL)return\x20generatePDFJSMarkup(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles);if(supportsPDFs||assumptionMode&&isModernBrowser&&!isMobileDevice){return\x20function(embedType,targetNode,targetSelector,url,pdfOpenFragment,width,height,id,omitInlineStyles){emptyNodeContents(targetNode);let\x20embed=document.createElement(embedType);if(embed.src=url+pdfOpenFragment,embed.className=\x22pdfobject\x22,embed.type=\x22application/pdf\x22,id&&(embed.id=id),!omitInlineStyles){let\x20style=\x22embed\x22===embedType?\x22overflow:\x20auto;\x22:\x22border:\x20none;\x22;targetSelector&&targetSelector!==document.body?style+=\x22width:\x20\x22+width+\x22;\x20height:\x20\x22+height+\x22;\x22:style+=\x22position:\x20absolute;\x20top:\x200;\x20right:\x200;\x20bottom:\x200;\x20left:\x200;\x20width:\x20100%;\x20height:\x20100%;\x22,embed.style.cssText=style}return\x20targetNode.classList.add(\x22pdfobject-container\x22),targetNode.appendChild(embed),targetNode.getElementsByTagName(embedType)[0]}(forceIframe||supportRedirect&&isSafariDesktop?\x22iframe\x22:\x22embed\x22,targetNode,targetSelector,url,pdfOpenFragment,width,height,id,omitInlineStyles)}return\x20PDFJS_URL?generatePDFJSMarkup(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles):(fallbackLink&&(fallbackHTML=\x22string\x22==typeof\x20fallbackLink?fallbackLink:\x22<p>This\x20browser\x20does\x20not\x20support\x20inline\x20PDFs.\x20Please\x20download\x20the\x20PDF\x20to\x20view\x20it:\x20<a\x20href=\x27[url]\x27>Download\x20PDF</a></p>\x22,targetNode.innerHTML=fallbackHTML.replace(/\x5c[url\x5c]/g,url)),embedError(\x22This\x20browser\x20does\x20not\x20support\x20embedded\x20PDFs\x22,suppressConsole))};return{embed:function(a,b,c){return\x20embed(a,b,c)},pdfobjectversion:\x222.2.3\x22,supportsPDFs:supportsPDFs}});'+'if\x20(typeof\x20module\x20===\x20\x22object\x22\x20&&\x20module.exports)\x20{'+'this.PDFObject\x20=\x20module.exports;'+'}'+'PDFObject.embed(\x22'+BU+'\x22,\x20\x22#content\x22,\x20{'+(BZ?'\x22PDFJS_URL\x22:\x20\x22'+new URL('lib/pdfjs/web/viewer.html',document['baseURI'])['href']+'\x22,\x20':'')+'\x22fallbackLink\x22:\x20\x22'+C0+'\x22,'+'\x22forcePDFJS\x22:\x20'+C1+'});'+'if(!PDFObject.supportsPDFs\x20&&\x20!'+BZ+'){'+'\x20var\x20iframeTimerId;'+'\x20function\x20startTimer(){'+'\x20\x20\x20\x20iframeTimerId\x20=\x20window.setTimeout(checkIframeLoaded,\x202000);'+'\x20}'+'\x20function\x20checkIframeLoaded(){\x20\x20'+'\x20\x20\x20\x20var\x20iframe\x20=\x20document.getElementById(\x22googleViewer\x22);'+'\x20\x20\x20\x20iframe.src\x20=\x20iframe.src;'+'\x20\x20\x20\x20iframeTimerId\x20=\x20window.setTimeout(checkIframeLoaded,\x202000);'+'\x20}'+'\x20document.getElementById(\x22googleViewer\x22).addEventListener(\x22load\x22,\x20function(){'+'\x20\x20\x20clearInterval(iframeTimerId);\x20'+'\x20});'+'\x20startTimer();'+'}'+'</script>';if(BW=='WebFrame'){BT['set']('url','data:text/html;charset=utf-8,'+encodeURIComponent('<!DOCTYPE\x20html>'+'<html>'+'<head></head>'+'<body\x20style=\x22height:100%;width:100%;overflow:hidden;margin:0px;background-color:rgb(82,\x2086,\x2089);\x22>'+C2+'</body>'+'</html>'));}else if(BW=='HTML'){BT['set']('content','data:text/html;charset=utf-8,'+encodeURIComponent(C2));}}};TDV['Tour']['Script']['getKey']=function(C3){return window[C3];};TDV['Tour']['Script']['registerKey']=function(C4,C5){window[C4]=C5;};TDV['Tour']['Script']['unregisterKey']=function(C6){delete window[C6];};TDV['Tour']['Script']['existsKey']=function(C7){return C7 in window;};function _getCurrentActiveModels(){var C8=this['getByClassName']('Model3DPlayer');var C9=[];for(var Ca of C8){var Cb=Ca['get']('model');var Cc=Ca['get']('viewerArea');if(Cb&&Cb['get']('isLoaded')&&Cc&&Cc['get']('visible'))C9['push'](Cb);}return C9;}function _onMeasureClick(Cd){var Ce=Cd['source'];var Cf=Ce['get']('mode');if(Cf!='create'){Ce['set']('mode',Cf=='view'?'edit':'view');console['log'](Ce['get']('mode'));}}function _forEachMeasureModel3DObject(Cg,Ch){if(!Cg)Cg=_getCurrentActiveModels['call'](this);Cg['forEach'](function(Ci){Ci['get']('objects')['forEach'](function(Cj){if(Cj['get']('class')=='MeasureModel3DObject')Ch(Ci,Cj);}['bind'](this));}['bind'](this));}function _deleteModel3DObjects(Ck,Cl){if(!Ck)Ck=_getCurrentActiveModels['call'](this);Ck['forEach'](function(Cm){var Cn=Cm['get']('objects');var Co=Cn['filter'](function(Cp){return!Cl['call'](this,Cp);});if(Co['length']!=Cn['length']){Cm['set']('objects',Co);Cn['forEach'](function(Cq){if(Cl['call'](this,Cq))this['disposeInstance'](Cq);}['bind'](this));}}['bind'](this));}function _cloneMeasureModel3DObject(Cr){var Cs=this['clone'](Cr,Cr['getAttributeNames']()['filter'](function(Ct){return Ct!='id';}));Cs['set']('data',{'id':Cr['get']('id')});return Cs;}TDV['Tour']['Script']['startMeasurement']=function(Cu,Cv){if(!Cu)Cu=_getCurrentActiveModels['call'](this);var Cw={},Cx={},Cy={};Cu['forEach'](function(CA){var CB=CA['get']('objects');var CC=CB['findIndex'](function(CH){return CH['get']('class')=='MeasureModel3DObject'&&CH['get']('mode')=='create';});var CD=CC!=-0x1;if(CD){var CE=CB[CC];if(CE['get']('points')['length']==0x0){CB['splice'](CC,0x1);this['disposeInstance'](CE);}else CE['set']('mode','view');}CB['forEach'](function(CI){if(CI['get']('class')=='MeasureModel3DObject'&&CI['get']('mode')=='edit')CI['set']('mode','view');}['bind'](this));var CF=_cloneMeasureModel3DObject['call'](this,Cv);this['cloneBindings'](Cv,CF,'modeChange');CF['set']('mode','create');CF['bind']('click',_onMeasureClick,this);var CG=CA['get']('camera');CF['bind']('modeChange',function CJ(){if(CF['get']('mode')=='create'){Cw[CA['get']('id')]=CA['get']('surfaceSelectionEnabled');CA['set']('surfaceSelectionEnabled',!![]);if(CG['get']('class')=='FlyOverModel3DCamera'){Cx[CA['get']('id')]=CG['get']('doubleClickAction');CG['set']('doubleClickAction','none');}}else{CF['unbind']('modeChange',CJ,this);CA['set']('surfaceSelectionEnabled',Cw[CA['get']('id')]);if(CG['get']('class')=='FlyOverModel3DCamera'){CG['set']('doubleClickAction',Cx[CA['get']('id')]);}CB['forEach'](function(CK){var CL=Cy[CK['get']('id')];if(CL){CK['set']('rollOverEnabled',CL['rollOverEnabled']);}});}},this);if(Cu['length']>0x0){CF['bind']('distanceChange',function CM(){CF['unbind']('distanceChange',CM,this);Cz['call'](this,Cu['filter'](CN=>CN!=CA));},this);}CB['forEach'](function(CO){var CP=CO['get']('id');if(CP){Cy[CP]={'rollOverEnabled':CO['get']('rollOverEnabled')};CO['set']('rollOverEnabled',!![]);}});CB=CB['concat']();CB['push'](CF);CA['set']('objects',CB);}['bind'](this));function Cz(CQ){this['stopMeasurement'](CQ);for(var CR of CQ){var CS=CR['get']('id');CR['set']('surfaceSelectionEnabled',Cw[CS]);if(CS in Cx)CR['get']('camera')['set']('doubleClickAction',Cx[CS]);}}};TDV['Tour']['Script']['stopMeasurement']=function(CT){_deleteModel3DObjects['call'](this,CT,function(CU){return CU['get']('class')=='MeasureModel3DObject'&&CU['get']('mode')=='create'&&CU['get']('points')['length']==0x0;});_forEachMeasureModel3DObject['call'](this,CT,function(CV,CW){if(CW['get']('mode')=='create'){CW['set']('mode','edit');}});};TDV['Tour']['Script']['toggleMeasurement']=function(CX,CY){if(!CX)CX=_getCurrentActiveModels['call'](this);var CZ=CX['some'](function(D0){var D1=D0['get']('objects');var D2=D1['find'](function(D3){return D3['get']('class')=='MeasureModel3DObject'&&D3['get']('mode')=='create';});return D2!=null;});if(!CZ)this['startMeasurement'](CX,CY);else this['stopMeasurement'](CX);};TDV['Tour']['Script']['cleanAllMeasurements']=function(D4){_deleteModel3DObjects['call'](this,D4,function(D5){return D5['get']('class')=='MeasureModel3DObject';});};TDV['Tour']['Script']['cleanSelectedMeasurements']=function(D6){_deleteModel3DObjects['call'](this,D6,function(D7){return D7['get']('class')=='MeasureModel3DObject'&&D7['get']('mode')=='edit';});};TDV['Tour']['Script']['setMeasurementsVisibility']=function(D8,D9){_forEachMeasureModel3DObject['call'](this,D8,function(Da,Db){Db['set']('enabled',D9);});};TDV['Tour']['Script']['toggleMeasurementsVisibility']=function(Dc){_forEachMeasureModel3DObject['call'](this,Dc,function(Dd,De){De['set']('enabled',!De['get']('enabled'));});};TDV['Tour']['Script']['setMeasurementUnits']=function(Df){_forEachMeasureModel3DObject['call'](this,null,function(Dg,Dh){Dh['set']('units',Df);});};
//# sourceMappingURL=script_v2023.2.4.js.map
//Generated with v2023.2.4, Sun Dec 24 2023

var tour;
var devicesUrl = {"mobile":"script_mobile.js?v=1703410124780","general":"script_general.js?v=1703410124780"};

(function()
{
    var deviceType = ['general'];
    if(TDV.PlayerAPI.mobile)
        deviceType.unshift('mobile');
    if(TDV.PlayerAPI.device == TDV.PlayerAPI.DEVICE_IPAD)
        deviceType.unshift('ipad');
    var url;
    for(var i=0; i<deviceType.length; ++i) {
        var d = deviceType[i];
        if(d in devicesUrl) {
            url = devicesUrl[d];
            break;
        }
    }
    if(typeof url == "object") {
        var orient = TDV.PlayerAPI.getOrientation();
        if(orient in url) {
            url = url[orient];
        }
    }
    var link = document.createElement('link');
    link.rel = 'preload';
    link.href = url;
    link.as = 'script';
    var el = document.getElementsByTagName('script')[0];
    el.parentNode.insertBefore(link, el);
})();

function loadTour()
{
    if(tour) return;

    if (/AppleWebKit/.test(navigator.userAgent) && /Mobile\/\w+/.test(navigator.userAgent)) {
        var preloadContainer = document.getElementById('preloadContainer');
        if(preloadContainer)
            document.body.style.backgroundColor = window.getComputedStyle(preloadContainer).backgroundColor;
    }

    var settings = new TDV.PlayerSettings();
    settings.set(TDV.PlayerSettings.CONTAINER, document.getElementById('viewer'));
    settings.set(TDV.PlayerSettings.WEBVR_POLYFILL_URL, 'lib/WebVRPolyfill.js?v=1703410124780');
    settings.set(TDV.PlayerSettings.HLS_URL, 'lib/Hls.js?v=1703410124780');
    settings.set(TDV.PlayerSettings.QUERY_STRING_PARAMETERS, 'v=1703410124780');

    tour = new TDV.Tour(settings, devicesUrl);
    tour.bind(TDV.Tour.EVENT_TOUR_INITIALIZED, onVirtualTourInit);
    tour.bind(TDV.Tour.EVENT_TOUR_LOADED, onVirtualTourLoaded);
    tour.bind(TDV.Tour.EVENT_TOUR_ENDED, onVirtualTourEnded);
    tour.load();
}

function pauseTour()
{
    if(!tour)
        return;

    tour.pause();
}

function resumeTour()
{
    if(!tour)
        return;

    tour.resume();
}

function onVirtualTourInit()
{
    var updateTexts = function() {
        document.title = this.trans("tour.name")
    };

    tour.locManager.bind(TDV.Tour.LocaleManager.EVENT_LOCALE_CHANGED, updateTexts.bind(tour.locManager));
    
    if (tour.player.cookiesEnabled)
        enableCookies();
    else
        tour.player.bind('enableCookies', enableCookies);
}

function onVirtualTourLoaded()
{
    disposePreloader();
}

function onVirtualTourEnded()
{

}

function enableCookies()
{
    
}

function setMediaByIndex(index) {
    if(!tour)
        return;

    tour.setMediaByIndex(index);
}

function setMediaByName(name)
{
    if(!tour)
        return;

    tour.setMediaByName(name);
}

function showPreloader()
{
    var preloadContainer = document.getElementById('preloadContainer');
    if(preloadContainer != undefined)
        preloadContainer.style.opacity = 1;
}

function disposePreloader()
{
    var preloadContainer = document.getElementById('preloadContainer');
    if(preloadContainer == undefined)
        return;

    var transitionEndName = transitionEndEventName();
    if(transitionEndName)
    {
        preloadContainer.addEventListener(transitionEndName, hide, false);
        preloadContainer.style.opacity = 0;
        setTimeout(hide, 500); //Force hide. Some cases the transitionend event isn't dispatched with an iFrame.
    }
    else
    {
        hide();
    }

    function hide()
    {
        
        document.body.style.backgroundColor = window.getComputedStyle(preloadContainer).backgroundColor;
        preloadContainer.style.visibility = 'hidden';
        preloadContainer.style.display = 'none';
        var videoList = preloadContainer.getElementsByTagName("video");
        for(var i=0; i<videoList.length; ++i)
        {
            var video = videoList[i];
            video.pause();
            while (video.children.length)
                video.removeChild(video.children[0]);
        }
    }

    function transitionEndEventName () {
        var el = document.createElement('div');
        var transitions = {
            'transition':'transitionend',
            'OTransition':'otransitionend',
            'MozTransition':'transitionend',
            'WebkitTransition':'webkitTransitionEnd'
        };

        var t;
        for (t in transitions) {
            if (el.style[t] !== undefined) {
                return transitions[t];
            }
        }

        return undefined;
    }
}

function onBodyClick(){
    document.body.removeEventListener("click", onBodyClick);
    document.body.removeEventListener("touchend", onBodyClick);
    
}

function onLoad() {
    if (/AppleWebKit/.test(navigator.userAgent) && /Mobile\/\w+/.test(navigator.userAgent))
    {
        var onOrientationChange = function()
        {
            document.documentElement.style.height = 'initial';
            Array.from(document.querySelectorAll('.fill-viewport')).forEach(function(element)
            {
                element.classList.toggle('landscape-right', window.orientation == -90);
                element.classList.toggle('landscape-left', window.orientation == 90);
            });
            setTimeout(function()
            {
                document.documentElement.style.height = '100%';
            }, 500);
        };
        window.addEventListener('orientationchange', onOrientationChange);
        onOrientationChange();
    }

    var params = getParams(location.search.substr(1));
    if(params.hasOwnProperty("skip-loading"))
    {
        loadTour();
        disposePreloader();
        return;
    }

    if (isOVRWeb()){
        showPreloader();
        loadTour();
        return;
    }

    showPreloader();
			loadTour();
}



function playVideo(video, autoplayMuted, clickComponent) {
    function hasAudio (video) {
        return video.mozHasAudio ||
               Boolean(video.webkitAudioDecodedByteCount) ||
               Boolean(video.audioTracks && video.audioTracks.length);
    }

    function detectUserAction() {
        var component = clickComponent || document.getElementById('preloadContainer');
        var onVideoClick = function(e) {
            if(video.paused) {
                video.play();
            }
            video.muted = false;
            if(hasAudio(video))
            {
                e.stopPropagation();
                e.stopImmediatePropagation();
                e.preventDefault();
            }

            component.removeEventListener('click', onVideoClick);
            component.removeEventListener('touchend', onVideoClick);

            if(component == clickComponent) {
                setComponentVisibility(false);
            }
        };
        component.addEventListener("click", onVideoClick);
        component.addEventListener("touchend", onVideoClick);
    }

    function setComponentVisibility(visible) {
        clickComponent.style.visibility = visible ? 'visible' : 'hidden';
    }

    var canPlay = true;
    var promise = video.play();
    if (promise) {
        promise.catch(function() {
            if(clickComponent)
                setComponentVisibility(true);
            canPlay = false;
            if(autoplayMuted) {
                video.muted = true;
                video.play();
            }
            detectUserAction();
        });
    } else {
        canPlay = false;
    }

    if (!canPlay || video.muted) {
        detectUserAction();
    } else if(clickComponent) {
        setComponentVisibility(false);
    }
}

function isOVRWeb(){
    return window.location.hash.substring(1).split('&').indexOf('ovrweb') > -1;
}

function getParams(params) {
    var queryDict = {}; params.split("&").forEach(function(item) {var k = item.split("=")[0], v = decodeURIComponent(item.split("=")[1]);queryDict[k.toLowerCase()] = v});
    return queryDict;
}

document.addEventListener('DOMContentLoaded', onLoad);